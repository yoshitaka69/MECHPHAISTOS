import{C as K,D as q,n as T,x as J,E as W,r as u,G as X,o as O,c as f,e as s,w as C,H as Y,I as e,J as t,b as r,t as Z,h as S,y as b,j as _,K as ee}from"./index-a4a98369.js";const te={class:"card border-round"},ae={class:"flex justify-content-between flex-wrap"},oe={class:"text-primary text-2xl flex align-items-center"},le={class:"flex align-items-center"},ne={class:"mx-2 p-input-icon-left"},se=r("i",{class:"pi pi-search"},null,-1),ie={key:0,class:"flex flex-column absolute z-5 fadeinleft animation-duration-100 surface-50 border-round shadow-4 ml-2 p-1"},re=r("div",null,[r("h4",{class:"flex align-items-center justify-content-center my-2"}," Options ")],-1),ue={__name:"test",props:["data","reloadTable","tableName","isHideOption","isHideCreate"],emits:["emitCreate","emitView","emitEdit","emitDelete"],setup(m,{emit:I}){const g=K("isSingleView"),p=m,y=q(()=>!p.data),M=T(),x=()=>{M.value.exportCSV()},i=J({}),R=n=>{Object.keys(i).forEach(a=>{a!=n&&(i[a]=!1)})},v=n=>{i[n]=!i[n]},N=I,k=()=>N("emitCreate"),w=(n,a)=>{v(a),N("emitView",n)},E=(n,a)=>{v(a),N("emitEdit",n)},L=(n,a)=>{v(a),N("emitDelete",n)},U={global:{value:null,matchMode:e.CONTAINS},name:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},is_customer:{value:"true",matchMode:e.EQUALS},is_prospect:{value:null,matchMode:e.EQUALS},is_active:{value:"true",matchMode:e.EQUALS}},V={global:{value:null,matchMode:e.CONTAINS},"company.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},name:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},is_customer:{value:"true",matchMode:e.EQUALS},is_prospect:{value:null,matchMode:e.EQUALS},is_active:{value:"true",matchMode:e.EQUALS}},Q={global:{value:null,matchMode:e.CONTAINS},"company.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"store.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},contact:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]}};W.register("isDateBetween",(n,a)=>{console.log(a==null?void 0:a[0]),console.log(a==null?void 0:a[1])});const D={global:{value:null,matchMode:e.CONTAINS},is_open:{value:null,matchMode:e.EQUALS},"company.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"store.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"category.name":{value:null,matchMode:e.EQUALS},inquiry:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},respond:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},is_email:{value:null,matchMode:e.EQUALS},is_programupdate:{value:null,matchMode:e.EQUALS},is_sales:{value:null,matchMode:e.EQUALS},"created_by.user_name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]}},F={global:{value:null,matchMode:e.CONTAINS},"store.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},label_name:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},model_name:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},location:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},serial_no:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},note:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"created_by.user_name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"updated_by.user_name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},is_ip:{value:null,matchMode:e.EQUALS},is_login:{value:null,matchMode:e.EQUALS},is_teamviewer:{value:null,matchMode:e.EQUALS}},B={global:{value:null,matchMode:e.CONTAINS},"store.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},label_name:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},model_name:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},location:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},note:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"created_by.user_name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"updated_by.user_name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},is_ip:{value:null,matchMode:e.EQUALS},is_login:{value:null,matchMode:e.EQUALS},is_teamviewer:{value:null,matchMode:e.EQUALS}},j={global:{value:null,matchMode:e.CONTAINS},"store.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"site_type.name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},user_type:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},language:{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]},"updated_by.user_name":{operator:t.OR,constraints:[{value:null,matchMode:e.CONTAINS}]}},A={global:{value:null,matchMode:e.CONTAINS}},l=T(null);return(()=>{switch(p.tableName){case"company":l.value=U;break;case"store":g?l.value=A:l.value=V;break;case"contact":l.value=Q;break;case"ticket":l.value=D;break;case"device":l.value=F;break;case"teamviewer":l.value=B;break;case"User Info":l.value=j;break;default:l.value=A,console.log("appying the global filter only")}})(),(n,a)=>{const c=u("Button"),H=u("InputText"),$=u("ProgressSpinner"),P=u("ToggleButton"),z=u("Column"),G=u("DataTable"),h=X("tooltip");return O(),f("div",te,[s(G,{value:m.data,dataKey:"data.id",loading:y.value,responsiveLayout:"scroll",stripedRows:"",columnResizeMode:"expand",showGridlines:"",resizableColumns:!0,rowHover:!0,rows:25,paginator:!Y(g),paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[25,50,100],currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} entries",filters:l.value,"onUpdate:filters":a[2]||(a[2]=o=>l.value=o),filterDisplay:"menu",ref_key:"dt",ref:M},{header:C(()=>[r("span",ae,[r("span",oe,Z(p.tableName.toUpperCase()),1),r("span",le,[m.isHideCreate?_("",!0):S((O(),b(c,{key:0,class:"p-button-sm mx-2",onClick:k,icon:"pi pi-plus"},null,512)),[[h,"Create a new data",void 0,{top:!0}]]),S(s(c,{icon:"pi pi-external-link",class:"mx-2 p-button-sm p-button-info",onClick:a[0]||(a[0]=o=>x(o))},null,512),[[h,"Download displayed table to CSV file",void 0,{top:!0}]]),S(s(c,{icon:"pi pi-replay",class:"mx-2 p-button-sm p-button-secondary",onClick:m.reloadTable},null,8,["onClick"]),[[h,"Reload a data",void 0,{top:!0}]]),r("span",ne,[se,s(H,{modelValue:l.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.global.value=o),placeholder:"Search..."},null,8,["modelValue"])])])])]),loading:C(()=>[s($,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"})]),default:C(()=>[p.isHideOption?_("",!0):(O(),b(z,{key:0,exportable:!1,style:{"min-width":"100px","min-height":"100px"}},{body:C(o=>[S(s(P,{class:"p-button-sm m-2 flex",onClick:d=>{R([o.data.id]),v[o.data.id]},modelValue:i[o.data.id],"onUpdate:modelValue":d=>i[o.data.id]=d,onIcon:"pi pi-eye-slash",offIcon:"pi pi-exclamation-circle"},null,8,["onClick","modelValue","onUpdate:modelValue"]),[[h,"Options",void 0,{right:!0}]]),i[o.data.id]?(O(),f("div",ie,[re,s(c,{label:"View",class:"p-button-sm m-2 px-4 p-button-success flex align-items-center justify-content-center",onClick:d=>w(o.data,o.data.id),icon:"pi pi-eye"},null,8,["onClick"]),s(c,{label:"Edit",class:"p-button-sm m-2 px-4 p-button-warning flex align-items-center justify-content-center",onClick:d=>E(o.data,o.data.id),icon:"pi pi-pencil"},null,8,["onClick"]),s(c,{label:"Delete",class:"p-button-sm m-2 px-4 p-button-danger flex align-items-center justify-content-center",onClick:d=>L(o.data,o.data.id),icon:"pi pi-trash"},null,8,["onClick"])])):_("",!0)]),_:1})),ee(n.$slots,"column")]),_:3},8,["value","loading","paginator","filters"])])}}};export{ue as default};
