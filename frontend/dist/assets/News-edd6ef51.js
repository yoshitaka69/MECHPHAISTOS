import{_ as u,o as n,c as o,b as t,t as l,d as g,g as x,h as v,v as w,F as y,i as T,j as $,p as P,k as D,l as C,r as _,e as d,a as N,w as m}from"./index-c360a4e9.js";const S={name:"Clock",data(){return{date:new Date}},computed:{year(){return this.date.getFullYear()},month(){return this.date.getMonth()+1},day(){return this.dateTimePadding(this.date.getDate())},hours(){return this.dateTimePadding(this.date.getHours())},minutes(){return this.dateTimePadding(this.date.getMinutes())},seconds(){return this.dateTimePadding(this.date.getSeconds())}},mounted(){this.setDate(),setInterval(()=>this.setDate(),1e3)},methods:{dateTimePadding(s){return("0"+s).slice(-2)},setDate(){this.date=new Date}}},I={class:"container"},M={class:"clock_hou"},L={class:"date"},Q={class:"time"},B={class:"second"};function V(s,e,r,h,c,i){return n(),o("div",I,[t("div",M,[t("div",L,[t("p",null,l(i.year)+"/"+l(i.month)+"/"+l(i.day),1)]),t("div",Q,[t("p",null,[g(l(i.hours)+":"+l(i.minutes),1),t("span",B,":"+l(i.seconds),1)])])])])}const H=u(S,[["render",V],["__scopeId","data-v-9bfa1da9"]]);const R={data:()=>({apiKey:"0eb25aefcfed4d3f80118b66e8172684",apiUrl:"",isBusy:!1,showloader:!1,currentPage:1,totalResults:0,maxPerPage:10,searchword:"",articles:[],country:"us"}),computed:{pageCount(){return Math.ceil(this.totalResults/this.maxPerPage)}},methods:{navTo(s){window.open(s)},resetData(){this.currentPage=1,this.articles=[]},fetchSearchNews(){this.searchword!==""?(this.apiUrl="https://newsapi.org/v2/everything?q="+this.searchword+"&pageSize="+this.maxPerPage+"&apiKey="+this.apiKey,this.isBusy=!0,this.resetData(),this.fetchData()):this.fetchTopNews()},fetchTopNews(){this.apiUrl="https://newsapi.org/v2/top-headlines?country="+this.country+"&pageSize="+this.maxPerPage+"&apiKey="+this.apiKey,this.isBusy=!0,this.searchword="",this.resetData(),this.fetchData()},fetchData(){let s=new Request(this.apiUrl+"&page="+this.currentPage);fetch(s).then(e=>e.json()).then(e=>{this.totalResults=e.totalResults,e.articles.forEach(r=>{this.articles.push(r)}),this.isBusy=!1,this.showloader=!1}).catch(e=>{console.log(e)})},scrollTrigger(){new IntersectionObserver(e=>{e.forEach(r=>{r.intersectionRatio>0&&this.currentPage<this.pageCount&&(this.showloader=!0,this.currentPage+=1,this.fetchData())})}).observe(this.$refs.infinitescrolltrigger)}},created(){this.fetchTopNews()},mounted(){this.scrollTrigger()}},U=s=>(P("data-v-f08d16b0"),s=s(),D(),s),E={class:"container"},G={class:"searchbar"},q={class:"search-icons"},A={key:1,class:"fas fa-spinner fa-spin"},K={class:"result-list"},j=["onClick"],F=["src"],O={key:1,class:"fas fa-image"},z=["innerHTML"],W=U(()=>t("footer",null,[t("i",{class:"fas fa-chevron-right"})],-1)),Y={ref:"infinitescrolltrigger",id:"scroll-trigger"},J={key:0,class:"fas fa-spinner fa-spin"};function X(s,e,r,h,c,i){return n(),o("div",E,[t("div",G,[t("form",{onSubmit:e[1]||(e[1]=x((...a)=>i.fetchSearchNews&&i.fetchSearchNews(...a),["prevent"]))},[v(t("input",{type:"text",placeholder:"search...","onUpdate:modelValue":e[0]||(e[0]=a=>s.searchword=a)},null,512),[[w,s.searchword]])],32),t("div",q,[s.isBusy?(n(),o("i",A)):(n(),o("i",{key:0,class:"fas fa-search",onClick:e[2]||(e[2]=(...a)=>i.fetchSearchNews&&i.fetchSearchNews(...a))})),t("i",{class:"fas fa-times",onClick:e[3]||(e[3]=(...a)=>i.fetchTopNews&&i.fetchTopNews(...a))})])]),t("div",K,[(n(!0),o(y,null,T(s.articles,(a,f)=>(n(),o("article",{key:f,onClick:p=>i.navTo(a.url)},[t("header",null,[a.urlToImage?(n(),o("img",{key:0,src:a.urlToImage,alt:""},null,8,F)):(n(),o("i",O))]),t("section",{innerHTML:a.title},null,8,z),W],8,j))),128))]),t("div",Y,[s.showloader?(n(),o("i",J)):$("",!0)],512)])}const Z=u(R,[["render",X],["__scopeId","data-v-f08d16b0"]]),tt={data(){return{userId:"",displayQiitaDataList:"",totalArticle:0,totalLGTM:0,isClick:!1}},methods:{getQiitaData:function(){C.get(`https://qiita.com/api/v2/users/${this.userId}/items?page=1&per_page=100`,{}).then(s=>{let e=[];e=s.data;let r=[],h=0;e.forEach(function(c){r.push(c),h+=c.likes_count}),this.displayQiitaDataList=r.sort(),this.totalLGTM=h,this.totalArticle=r.length,this.isClick=!0})}}},et={key:0},st={class:"table table-striped"},at=t("tr",null,[t("th",null,"記事タイトル"),t("th",null,"URL"),t("th",null,"LGTM数"),t("th",null,"投稿日時")],-1),it={class:"text-left"},nt=["href"];function ot(s,e,r,h,c,i){return n(),o("div",null,[v(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>c.userId=a)},null,512),[[w,c.userId]]),t("button",{onClick:e[1]||(e[1]=a=>i.getQiitaData())},"取得開始"),c.isClick?(n(),o("div",et,[t("table",st,[at,(n(!0),o(y,null,T(c.displayQiitaDataList,(a,f)=>(n(),o("tr",{key:f},[t("td",it,l(a.title),1),t("td",null,[t("a",{href:a.url},l(a.url),9,nt)]),t("td",null,l(a.likes_count),1),t("td",null,l(a.created_at),1)]))),128))]),t("div",null,[t("h3",null,"記事数 "+l(c.totalArticle)+"コ",1),g("// h3で文字サイズ調整すな← "),t("h3",null,"LGTM数 "+l(c.totalLGTM)+"コ",1)])])):$("",!0)])}const rt=u(tt,[["render",ot]]),ct={},lt={class:"weather"};function dt(s,e){const r=_("weather-widget");return n(),o("div",lt,[d(r)])}const ht=u(ct,[["render",dt]]),_t={},ut={class:"col-12 lg:col-6 xl:col-10"},ft=N('<div class="card mb-0"><div class="flex justify-content-between mb-3"><div><span class="block text-500 font-medium mb-3"></span><div class="text-900 font-medium text-xl">Be careful of heatstroke</div></div></div><span class="text-green-500 font-medium">24 new </span><span class="text-500">last update 2023/12/31</span></div>',1),pt=[ft];function mt(s,e){return n(),o("div",ut,pt)}const gt=u(_t,[["render",mt]]),vt="/assets/MECHPHAISTOS cover-1041816a.jpg";const wt={components:{Clock:H,News:Z,Qiita:rt,Weather:ht,information:gt}},yt=t("div",{class:"home-contents"},[t("img",{src:vt}),t("h1",{class:"title"},"Welcome to MECHPHASTOS")],-1),Tt={class:"clock"},$t={class:"information"},kt={class:"content"},bt={class:"card card-solid"},xt=t("p",{class:"line-height-3 m-0"},null,-1),Pt=t("p",{class:"line-height-3 m-0"},null,-1),Dt={class:"line-height-3 m-0"};function Ct(s,e,r,h,c,i){const a=_("Clock"),f=_("information"),p=_("TabPanel"),k=_("Qiita"),b=_("TabView");return n(),o("div",null,[yt,t("section",null,[t("div",Tt,[d(a),t("div",$t,[d(f)])])]),t("section",kt,[t("div",bt,[d(b,null,{default:m(()=>[d(p,{header:"Critical equipment list"},{default:m(()=>[xt]),_:1}),d(p,{header:"Priority Tasks"},{default:m(()=>[Pt]),_:1}),d(p,{header:"IT"},{default:m(()=>[t("p",Dt,[d(k)])]),_:1})]),_:1})])])])}const St=u(wt,[["render",Ct]]);export{St as default};
