{
  "version": 3,
  "sources": ["../../core-js/internals/delete-property-or-throw.js", "../../handsontable/plugins/base/base.mjs", "../../core-js/modules/es.array.unshift.js", "../../handsontable/plugins/contextMenu/commandExecutor.mjs", "../../handsontable/plugins/contextMenu/utils.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/separator.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/alignment.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/clearColumn.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/columnLeft.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/columnRight.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/readOnly.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/redo.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/removeColumn.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/removeRow.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/rowAbove.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/rowBelow.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/noItems.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/undo.mjs", "../../handsontable/plugins/contextMenu/predefinedItems/index.mjs", "../../handsontable/plugins/contextMenu/itemsFactory.mjs", "../../handsontable/plugins/contextMenu/menu/cursor.mjs", "../../handsontable/plugins/contextMenu/menu/positioner.mjs", "../../handsontable/utils/paginator.mjs", "../../handsontable/plugins/contextMenu/menu/utils.mjs", "../../handsontable/plugins/contextMenu/menu/navigator.mjs", "../../handsontable/plugins/contextMenu/menu/defaultShortcutsList.mjs", "../../handsontable/plugins/contextMenu/menu/shortcuts.mjs", "../../handsontable/plugins/contextMenu/menu/menuItemRenderer.mjs", "../../handsontable/plugins/contextMenu/menu/menu.mjs", "../../handsontable/plugins/contextMenu/contextMenu.mjs"],
  "sourcesContent": ["'use strict';\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (O, P) {\n  if (!delete O[P]) throw new $TypeError('Cannot delete property ' + tryToString(P) + ' of ' + tryToString(O));\n};\n", "import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.push.js\";\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nimport { defineGetter, objectEach } from \"../../helpers/object.mjs\";\nimport { arrayEach } from \"../../helpers/array.mjs\";\nimport { getPluginsNames, hasPlugin } from \"../registry.mjs\";\nimport { hasCellType } from \"../../cellTypes/registry.mjs\";\nimport { hasEditor } from \"../../editors/registry.mjs\";\nimport { hasRenderer } from \"../../renderers/registry.mjs\";\nimport { hasValidator } from \"../../validators/registry.mjs\";\nimport EventManager from \"../../eventManager.mjs\";\nconst DEPS_TYPE_CHECKERS = new Map([['plugin', hasPlugin], ['cell-type', hasCellType], ['editor', hasEditor], ['renderer', hasRenderer], ['validator', hasValidator]]);\nexport const PLUGIN_KEY = 'base';\nconst missingDepsMsgs = [];\nlet initializedPlugins = null;\n\n/**\n * @util\n * @property {Core} hot Handsontable instance.\n */\nvar _hooks = /*#__PURE__*/new WeakMap();\nvar _isRelevantToSettings = /*#__PURE__*/new WeakSet();\nexport class BasePlugin {\n  static get PLUGIN_KEY() {\n    return PLUGIN_KEY;\n  }\n\n  /**\n   * The `SETTING_KEYS` getter defines the keys that, when present in the config object, trigger the plugin update\n   * after the `updateSettings` calls.\n   * - When it returns `true`, the plugin updates after all `updateSettings` calls, regardless of the contents of the\n   * config object.\n   * - When it returns `false`, the plugin never updates on `updateSettings` calls.\n   *\n   * @returns {string[] | boolean}\n   */\n  static get SETTING_KEYS() {\n    return [this.PLUGIN_KEY];\n  }\n\n  /**\n   * The instance of the {@link EventManager} class.\n   *\n   * @type {EventManager}\n   */\n\n  /**\n   * @param {object} hotInstance Handsontable instance.\n   */\n  constructor(hotInstance) {\n    /**\n     * Check if any of the keys defined in `SETTING_KEYS` configuration of the plugin is present in the provided\n     * config object, or if the `SETTING_KEYS` configuration states that the plugin is relevant to the config object\n     * regardless of its contents.\n     *\n     * @private\n     * @param {Handsontable.DefaultSettings} settings The config object passed to `updateSettings`.\n     * @returns {boolean}\n     */\n    _classPrivateMethodInitSpec(this, _isRelevantToSettings);\n    _defineProperty(this, \"eventManager\", new EventManager(this));\n    /**\n     * @type {string}\n     */\n    _defineProperty(this, \"pluginName\", null);\n    /**\n     * @type {Function[]}\n     */\n    _defineProperty(this, \"pluginsInitializedCallbacks\", []);\n    /**\n     * @type {boolean}\n     */\n    _defineProperty(this, \"isPluginsReady\", false);\n    /**\n     * @type {boolean}\n     */\n    _defineProperty(this, \"enabled\", false);\n    /**\n     * @type {boolean}\n     */\n    _defineProperty(this, \"initialized\", false);\n    /**\n     * Collection of the reference to the plugins hooks.\n     */\n    _classPrivateFieldInitSpec(this, _hooks, {\n      writable: true,\n      value: {}\n    });\n    /**\n     * Handsontable instance.\n     *\n     * @type {Core}\n     */\n    defineGetter(this, 'hot', hotInstance, {\n      writable: false\n    });\n    initializedPlugins = null;\n    this.hot.addHook('afterPluginsInitialized', () => this.onAfterPluginsInitialized());\n    this.hot.addHook('afterUpdateSettings', newSettings => this.onUpdateSettings(newSettings));\n    this.hot.addHook('beforeInit', () => this.init());\n  }\n  init() {\n    this.pluginName = this.hot.getPluginName(this);\n    const pluginDeps = this.constructor.PLUGIN_DEPS;\n    const deps = Array.isArray(pluginDeps) ? pluginDeps : [];\n    if (deps.length > 0) {\n      const missingDependencies = [];\n      deps.forEach(dependency => {\n        const [type, moduleName] = dependency.split(':');\n        if (!DEPS_TYPE_CHECKERS.has(type)) {\n          throw new Error(`Unknown plugin dependency type \"${type}\" was found.`);\n        }\n        if (!DEPS_TYPE_CHECKERS.get(type)(moduleName)) {\n          missingDependencies.push(` - ${moduleName} (${type})`);\n        }\n      });\n      if (missingDependencies.length > 0) {\n        const errorMsg = [`The ${this.pluginName} plugin requires the following modules:\\n`, `${missingDependencies.join('\\n')}\\n`].join('');\n        missingDepsMsgs.push(errorMsg);\n      }\n    }\n    if (!initializedPlugins) {\n      initializedPlugins = getPluginsNames();\n    }\n\n    // Workaround for the UndoRedo plugin which, currently doesn't follow the plugin architecture.\n    // Without this line the `callOnPluginsReady` callback won't be triggered after all plugin\n    // initialization.\n    if (initializedPlugins.indexOf('UndoRedo') >= 0) {\n      initializedPlugins.splice(initializedPlugins.indexOf('UndoRedo'), 1);\n    }\n    if (initializedPlugins.indexOf(this.pluginName) >= 0) {\n      initializedPlugins.splice(initializedPlugins.indexOf(this.pluginName), 1);\n    }\n    this.hot.addHookOnce('afterPluginsInitialized', () => {\n      if (this.isEnabled && this.isEnabled()) {\n        this.enablePlugin();\n      }\n    });\n    const isAllPluginsAreInitialized = initializedPlugins.length === 0;\n    if (isAllPluginsAreInitialized) {\n      if (missingDepsMsgs.length > 0) {\n        const errorMsg = [`${missingDepsMsgs.join('\\n')}\\n`, 'You have to import and register them manually.'].join('');\n        throw new Error(errorMsg);\n      }\n      this.hot.runHooks('afterPluginsInitialized');\n    }\n    this.initialized = true;\n  }\n\n  /**\n   * Enable plugin for this Handsontable instance.\n   */\n  enablePlugin() {\n    this.enabled = true;\n  }\n\n  /**\n   * Disable plugin for this Handsontable instance.\n   */\n  disablePlugin() {\n    var _this$eventManager;\n    (_this$eventManager = this.eventManager) === null || _this$eventManager === void 0 || _this$eventManager.clear();\n    this.clearHooks();\n    this.enabled = false;\n  }\n\n  /**\n   * Add listener to plugin hooks system.\n   *\n   * @param {string} name The hook name.\n   * @param {Function} callback The listener function to add.\n   */\n  addHook(name, callback) {\n    _classPrivateFieldGet(this, _hooks)[name] = _classPrivateFieldGet(this, _hooks)[name] || [];\n    const hooks = _classPrivateFieldGet(this, _hooks)[name];\n    this.hot.addHook(name, callback);\n    hooks.push(callback);\n    _classPrivateFieldGet(this, _hooks)[name] = hooks;\n  }\n\n  /**\n   * Remove all hooks listeners by hook name.\n   *\n   * @param {string} name The hook name.\n   */\n  removeHooks(name) {\n    arrayEach(_classPrivateFieldGet(this, _hooks)[name] || [], callback => {\n      this.hot.removeHook(name, callback);\n    });\n  }\n\n  /**\n   * Clear all hooks.\n   */\n  clearHooks() {\n    const hooks = _classPrivateFieldGet(this, _hooks);\n    objectEach(hooks, (callbacks, name) => this.removeHooks(name));\n    hooks.length = 0;\n  }\n\n  /**\n   * Register function which will be immediately called after all plugins initialized.\n   *\n   * @param {Function} callback The listener function to call.\n   */\n  callOnPluginsReady(callback) {\n    if (this.isPluginsReady) {\n      callback();\n    } else {\n      this.pluginsInitializedCallbacks.push(callback);\n    }\n  }\n  /**\n   * On after plugins initialized listener.\n   *\n   * @private\n   */\n  onAfterPluginsInitialized() {\n    arrayEach(this.pluginsInitializedCallbacks, callback => callback());\n    this.pluginsInitializedCallbacks.length = 0;\n    this.isPluginsReady = true;\n  }\n\n  /**\n   * On update settings listener.\n   *\n   * @private\n   * @param {object} newSettings New set of settings passed to the `updateSettings` method.\n   */\n  onUpdateSettings(newSettings) {\n    const relevantToSettings = _classPrivateMethodGet(this, _isRelevantToSettings, _isRelevantToSettings2).call(this, newSettings);\n    if (this.isEnabled) {\n      if (this.enabled && !this.isEnabled()) {\n        this.disablePlugin();\n      }\n      if (!this.enabled && this.isEnabled()) {\n        this.enablePlugin();\n      }\n      if (this.enabled && this.isEnabled() && relevantToSettings) {\n        this.updatePlugin(newSettings);\n      }\n    }\n  }\n\n  /**\n   * Updates the plugin to use the latest options you have specified.\n   *\n   * @private\n   */\n  updatePlugin() {}\n\n  /**\n   * Destroy plugin.\n   */\n  destroy() {\n    var _this$eventManager2;\n    (_this$eventManager2 = this.eventManager) === null || _this$eventManager2 === void 0 || _this$eventManager2.destroy();\n    this.clearHooks();\n    objectEach(this, (value, property) => {\n      if (property !== 'hot') {\n        this[property] = null;\n      }\n    });\n    delete this.t;\n    delete this.hot;\n  }\n}\nfunction _isRelevantToSettings2(settings) {\n  if (!settings) {\n    return false;\n  }\n  const settingKeys = this.constructor.SETTING_KEYS;\n\n  // If SETTING_KEYS is declared as `true` -> update the plugin regardless of the settings declared in\n  // `updateSettings`.\n  // If SETTING_KEYS is declared as `false` -> DON'T update the plugin regardless of the settings declared in\n  // `updateSettings`.\n  if (typeof settingKeys === 'boolean') {\n    return settingKeys;\n  }\n  for (let i = 0; i < settingKeys.length; i++) {\n    if (settings[settingKeys[i]] !== undefined) {\n      return true;\n    }\n  }\n  return false;\n}", "'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar deletePropertyOrThrow = require('../internals/delete-property-or-throw');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\n\n// IE8-\nvar INCORRECT_RESULT = [].unshift(0) !== 1;\n\n// V8 ~ Chrome < 71 and Safari <= 15.4, FF < 23 throws InternalError\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).unshift();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_RESULT || !properErrorOnNonWritableLength();\n\n// `Array.prototype.unshift` method\n// https://tc39.es/ecma262/#sec-array.prototype.unshift\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  unshift: function unshift(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    if (argCount) {\n      doesNotExceedSafeInteger(len + argCount);\n      var k = len;\n      while (k--) {\n        var to = k + argCount;\n        if (k in O) O[to] = O[k];\n        else deletePropertyOrThrow(O, to);\n      }\n      for (var j = 0; j < argCount; j++) {\n        O[j] = arguments[j];\n      }\n    } return setArrayLength(O, len + argCount);\n  }\n});\n", "import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { arrayEach } from \"../../helpers/array.mjs\";\nimport { hasOwnProperty } from \"../../helpers/object.mjs\";\n/**\n * Command executor for ContextMenu.\n *\n * @private\n * @class CommandExecutor\n */\nexport class CommandExecutor {\n  constructor(hotInstance) {\n    /**\n     * @type {Core}\n     */\n    _defineProperty(this, \"hot\", void 0);\n    /**\n     * @type {object}\n     */\n    _defineProperty(this, \"commands\", {});\n    /**\n     * @type {Function}\n     */\n    _defineProperty(this, \"commonCallback\", null);\n    this.hot = hotInstance;\n  }\n\n  /**\n   * Register command.\n   *\n   * @param {string} name Command name.\n   * @param {object} commandDescriptor Command descriptor object with properties like `key` (command id),\n   *                                   `callback` (task to execute), `name` (command name), `disabled` (command availability).\n   */\n  registerCommand(name, commandDescriptor) {\n    this.commands[name] = commandDescriptor;\n  }\n\n  /**\n   * Set common callback which will be trigger on every executed command.\n   *\n   * @param {Function} callback Function which will be fired on every command execute.\n   */\n  setCommonCallback(callback) {\n    this.commonCallback = callback;\n  }\n\n  /**\n   * Execute command by its name.\n   *\n   * @param {string} commandName Command id.\n   * @param {*} params Arguments passed to command task.\n   */\n  execute(commandName) {\n    for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      params[_key - 1] = arguments[_key];\n    }\n    const commandSplit = commandName.split(':');\n    const commandNamePrimary = commandSplit[0];\n    const subCommandName = commandSplit.length === 2 ? commandSplit[1] : null;\n    let command = this.commands[commandNamePrimary];\n    if (!command) {\n      throw new Error(`Menu command '${commandNamePrimary}' not exists.`);\n    }\n    if (subCommandName && command.submenu) {\n      command = findSubCommand(subCommandName, command.submenu.items);\n    }\n    if (command.disabled === true) {\n      return;\n    }\n    if (typeof command.disabled === 'function' && command.disabled.call(this.hot) === true) {\n      return;\n    }\n    if (hasOwnProperty(command, 'submenu')) {\n      return;\n    }\n    const callbacks = [];\n    if (typeof command.callback === 'function') {\n      callbacks.push(command.callback);\n    }\n    if (typeof this.commonCallback === 'function') {\n      callbacks.push(this.commonCallback);\n    }\n    params.unshift(commandSplit.join(':'));\n    arrayEach(callbacks, callback => callback.apply(this.hot, params));\n  }\n}\n\n/**\n * @param {string} subCommandName The subcommand name.\n * @param {string[]} subCommands The collection of the commands.\n * @returns {boolean}\n */\nfunction findSubCommand(subCommandName, subCommands) {\n  let command;\n  arrayEach(subCommands, cmd => {\n    const cmds = cmd.key ? cmd.key.split(':') : null;\n    if (Array.isArray(cmds) && cmds[1] === subCommandName) {\n      command = cmd;\n      return false;\n    }\n  });\n  return command;\n}", "import { arrayEach } from \"../../helpers/array.mjs\";\n/**\n * @param {string} className The full element class name to process.\n * @param {string} alignment The alignment class name to compare with.\n * @returns {string}\n */\nexport function prepareVerticalAlignClass(className, alignment) {\n  if (className.indexOf(alignment) !== -1) {\n    return className;\n  }\n  const replacedClassName = className.replace('htTop', '').replace('htMiddle', '').replace('htBottom', '').replace('  ', '');\n  return `${replacedClassName} ${alignment}`;\n}\n\n/**\n * @param {string} className The full element class name to process.\n * @param {string} alignment The alignment class name to compare with.\n * @returns {string}\n */\nexport function prepareHorizontalAlignClass(className, alignment) {\n  if (className.indexOf(alignment) !== -1) {\n    return className;\n  }\n  const replacedClassName = className.replace('htLeft', '').replace('htCenter', '').replace('htRight', '').replace('htJustify', '').replace('  ', '');\n  return `${replacedClassName} ${alignment}`;\n}\n\n/**\n * @param {CellRange[]} ranges An array of the cell ranges.\n * @param {Function} callback The callback function.\n * @returns {object}\n */\nexport function getAlignmentClasses(ranges, callback) {\n  const classes = {};\n  arrayEach(ranges, range => {\n    range.forAll((row, col) => {\n      // Alignment classes should only collected within cell ranges. We skip header coordinates.\n      if (row >= 0 && col >= 0) {\n        if (!classes[row]) {\n          classes[row] = [];\n        }\n        classes[row][col] = callback(row, col);\n      }\n    });\n  });\n  return classes;\n}\n\n/**\n * @param {CellRange[]} ranges An array of the cell ranges.\n * @param {string} type The type of the alignment axis ('horizontal' or 'vertical').\n * @param {string} alignment CSS class name to add.\n * @param {Function} cellDescriptor The function which fetches the cell meta object based in passed coordinates.\n * @param {Function} propertySetter The function which contains logic for added/removed alignment.\n */\nexport function align(ranges, type, alignment, cellDescriptor, propertySetter) {\n  arrayEach(ranges, range => {\n    range.forAll((row, col) => {\n      // Alignment classes should only collected within cell ranges. We skip header coordinates.\n      if (row >= 0 && col >= 0) {\n        applyAlignClassName(row, col, type, alignment, cellDescriptor, propertySetter);\n      }\n    });\n  });\n}\n\n/**\n * @param {number} row The visual row index.\n * @param {number} col The visual column index.\n * @param {string} type The type of the alignment axis ('horizontal' or 'vertical').\n * @param {string} alignment CSS class name to add.\n * @param {Function} cellDescriptor The function which fetches the cell meta object based in passed coordinates.\n * @param {Function} propertySetter The function which contains logic for added/removed alignment.\n */\nfunction applyAlignClassName(row, col, type, alignment, cellDescriptor, propertySetter) {\n  const cellMeta = cellDescriptor(row, col);\n  let className = alignment;\n  if (cellMeta.className) {\n    if (type === 'vertical') {\n      className = prepareVerticalAlignClass(cellMeta.className, alignment);\n    } else {\n      className = prepareHorizontalAlignClass(cellMeta.className, alignment);\n    }\n  }\n  propertySetter(row, col, 'className', className);\n}\n\n/**\n * @param {string} label The label text.\n * @returns {string}\n */\nexport function markLabelAsSelected(label) {\n  // workaround for https://github.com/handsontable/handsontable/issues/1946\n  return `<span class=\"selected\">${String.fromCharCode(10003)}</span>${label}`;\n}\n\n/**\n * @param {CellRange[]} ranges An array of the cell ranges.\n * @param {Function} comparator The comparator function.\n * @returns {boolean}\n */\nexport function checkSelectionConsistency(ranges, comparator) {\n  let result = false;\n  if (Array.isArray(ranges)) {\n    arrayEach(ranges, range => {\n      range.forAll((row, col) => {\n        // Selection consistency should only check within cell ranges. We skip header coordinates.\n        if (row >= 0 && col >= 0 && comparator(row, col)) {\n          result = true;\n          return false;\n        }\n      });\n      return result;\n    });\n  }\n  return result;\n}\n\n/**\n * Returns document offset based on the passed element. If the document objects between element and the\n * base document are not the same the offset as top and left properties will be returned.\n *\n * @param {Element} elementToCheck The element to compare with Document object.\n * @param {Document} baseDocument The base Document object.\n * @returns {{ top: number, left: number }}\n */\nexport function getDocumentOffsetByElement(elementToCheck, baseDocument) {\n  const offset = {\n    top: 0,\n    left: 0\n  };\n  if (baseDocument !== elementToCheck.ownerDocument) {\n    const {\n      frameElement\n    } = baseDocument.defaultView;\n    const {\n      top,\n      left\n    } = frameElement.getBoundingClientRect();\n    offset.top = top;\n    offset.left = left;\n  }\n  return offset;\n}", "export const KEY = '---------';\n\n/**\n * @returns {object}\n */\nexport default function separatorItem() {\n  return {\n    name: KEY\n  };\n}", "import { align, getAlignmentClasses, checkSelectionConsistency, markLabelAsSelected } from \"../utils.mjs\";\nimport { KEY as SEPARATOR } from \"./separator.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'alignment';\n\n/**\n * @returns {object}\n */\nexport default function alignmentItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT);\n    },\n    disabled() {\n      if (this.countRows() === 0 || this.countCols() === 0) {\n        return true;\n      }\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader()) {\n        return true;\n      }\n      return !(this.getSelectedRange() && !this.selection.isSelectedByCorner());\n    },\n    submenu: {\n      items: [{\n        key: `${KEY}:left`,\n        name() {\n          let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT_LEFT);\n          const hasClass = checkSelectionConsistency(this.getSelectedRange(), (row, col) => {\n            const className = this.getCellMeta(row, col).className;\n            if (className && className.indexOf('htLeft') !== -1) {\n              return true;\n            }\n          });\n          if (hasClass) {\n            label = markLabelAsSelected(label);\n          }\n          return label;\n        },\n        callback() {\n          const selectedRange = this.getSelectedRange();\n          const stateBefore = getAlignmentClasses(selectedRange, (row, col) => this.getCellMeta(row, col).className);\n          const type = 'horizontal';\n          const alignment = 'htLeft';\n          this.runHooks('beforeCellAlignment', stateBefore, selectedRange, type, alignment);\n          align(selectedRange, type, alignment, (row, col) => this.getCellMeta(row, col), (row, col, key, value) => this.setCellMeta(row, col, key, value));\n          this.render();\n        },\n        disabled: false\n      }, {\n        key: `${KEY}:center`,\n        name() {\n          let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT_CENTER);\n          const hasClass = checkSelectionConsistency(this.getSelectedRange(), (row, col) => {\n            const className = this.getCellMeta(row, col).className;\n            if (className && className.indexOf('htCenter') !== -1) {\n              return true;\n            }\n          });\n          if (hasClass) {\n            label = markLabelAsSelected(label);\n          }\n          return label;\n        },\n        callback() {\n          const selectedRange = this.getSelectedRange();\n          const stateBefore = getAlignmentClasses(selectedRange, (row, col) => this.getCellMeta(row, col).className);\n          const type = 'horizontal';\n          const alignment = 'htCenter';\n          this.runHooks('beforeCellAlignment', stateBefore, selectedRange, type, alignment);\n          align(selectedRange, type, alignment, (row, col) => this.getCellMeta(row, col), (row, col, key, value) => this.setCellMeta(row, col, key, value));\n          this.render();\n        },\n        disabled: false\n      }, {\n        key: `${KEY}:right`,\n        name() {\n          let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT_RIGHT);\n          const hasClass = checkSelectionConsistency(this.getSelectedRange(), (row, col) => {\n            const className = this.getCellMeta(row, col).className;\n            if (className && className.indexOf('htRight') !== -1) {\n              return true;\n            }\n          });\n          if (hasClass) {\n            label = markLabelAsSelected(label);\n          }\n          return label;\n        },\n        callback() {\n          const selectedRange = this.getSelectedRange();\n          const stateBefore = getAlignmentClasses(selectedRange, (row, col) => this.getCellMeta(row, col).className);\n          const type = 'horizontal';\n          const alignment = 'htRight';\n          this.runHooks('beforeCellAlignment', stateBefore, selectedRange, type, alignment);\n          align(selectedRange, type, alignment, (row, col) => this.getCellMeta(row, col), (row, col, key, value) => this.setCellMeta(row, col, key, value));\n          this.render();\n        },\n        disabled: false\n      }, {\n        key: `${KEY}:justify`,\n        name() {\n          let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT_JUSTIFY);\n          const hasClass = checkSelectionConsistency(this.getSelectedRange(), (row, col) => {\n            const className = this.getCellMeta(row, col).className;\n            if (className && className.indexOf('htJustify') !== -1) {\n              return true;\n            }\n          });\n          if (hasClass) {\n            label = markLabelAsSelected(label);\n          }\n          return label;\n        },\n        callback() {\n          const selectedRange = this.getSelectedRange();\n          const stateBefore = getAlignmentClasses(selectedRange, (row, col) => this.getCellMeta(row, col).className);\n          const type = 'horizontal';\n          const alignment = 'htJustify';\n          this.runHooks('beforeCellAlignment', stateBefore, selectedRange, type, alignment);\n          align(selectedRange, type, alignment, (row, col) => this.getCellMeta(row, col), (row, col, key, value) => this.setCellMeta(row, col, key, value));\n          this.render();\n        },\n        disabled: false\n      }, {\n        name: SEPARATOR\n      }, {\n        key: `${KEY}:top`,\n        name() {\n          let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT_TOP);\n          const hasClass = checkSelectionConsistency(this.getSelectedRange(), (row, col) => {\n            const className = this.getCellMeta(row, col).className;\n            if (className && className.indexOf('htTop') !== -1) {\n              return true;\n            }\n          });\n          if (hasClass) {\n            label = markLabelAsSelected(label);\n          }\n          return label;\n        },\n        callback() {\n          const selectedRange = this.getSelectedRange();\n          const stateBefore = getAlignmentClasses(selectedRange, (row, col) => this.getCellMeta(row, col).className);\n          const type = 'vertical';\n          const alignment = 'htTop';\n          this.runHooks('beforeCellAlignment', stateBefore, selectedRange, type, alignment);\n          align(selectedRange, type, alignment, (row, col) => this.getCellMeta(row, col), (row, col, key, value) => this.setCellMeta(row, col, key, value));\n          this.render();\n        },\n        disabled: false\n      }, {\n        key: `${KEY}:middle`,\n        name() {\n          let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT_MIDDLE);\n          const hasClass = checkSelectionConsistency(this.getSelectedRange(), (row, col) => {\n            const className = this.getCellMeta(row, col).className;\n            if (className && className.indexOf('htMiddle') !== -1) {\n              return true;\n            }\n          });\n          if (hasClass) {\n            label = markLabelAsSelected(label);\n          }\n          return label;\n        },\n        callback() {\n          const selectedRange = this.getSelectedRange();\n          const stateBefore = getAlignmentClasses(selectedRange, (row, col) => this.getCellMeta(row, col).className);\n          const type = 'vertical';\n          const alignment = 'htMiddle';\n          this.runHooks('beforeCellAlignment', stateBefore, selectedRange, type, alignment);\n          align(selectedRange, type, alignment, (row, col) => this.getCellMeta(row, col), (row, col, key, value) => this.setCellMeta(row, col, key, value));\n          this.render();\n        },\n        disabled: false\n      }, {\n        key: `${KEY}:bottom`,\n        name() {\n          let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ALIGNMENT_BOTTOM);\n          const hasClass = checkSelectionConsistency(this.getSelectedRange(), (row, col) => {\n            const className = this.getCellMeta(row, col).className;\n            if (className && className.indexOf('htBottom') !== -1) {\n              return true;\n            }\n          });\n          if (hasClass) {\n            label = markLabelAsSelected(label);\n          }\n          return label;\n        },\n        callback() {\n          const selectedRange = this.getSelectedRange();\n          const stateBefore = getAlignmentClasses(selectedRange, (row, col) => this.getCellMeta(row, col).className);\n          const type = 'vertical';\n          const alignment = 'htBottom';\n          this.runHooks('beforeCellAlignment', stateBefore, selectedRange, type, alignment);\n          align(selectedRange, type, alignment, (row, col) => this.getCellMeta(row, col), (row, col, key, value) => this.setCellMeta(row, col, key, value));\n          this.render();\n        },\n        disabled: false\n      }]\n    }\n  };\n}", "import * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'clear_column';\n\n/**\n * @returns {object}\n */\nexport default function clearColumnItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_CLEAR_COLUMN);\n    },\n    callback(key, selection) {\n      const startColumn = selection[0].start.col;\n      const endColumn = selection[0].end.col;\n      if (this.countRows()) {\n        this.populateFromArray(0, startColumn, [[null]], Math.max(selection[0].start.row, selection[0].end.row), endColumn, 'ContextMenu.clearColumn');\n      }\n    },\n    disabled() {\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.col < 0) {\n        return true;\n      }\n      return !this.selection.isSelectedByColumnHeader();\n    }\n  };\n}", "import * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'col_left';\n\n/**\n * @returns {object}\n */\nexport default function columnLeftItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_INSERT_LEFT);\n    },\n    callback() {\n      const latestSelection = this.getSelectedRangeLast().getTopLeftCorner();\n      const alterAction = this.isRtl() ? 'insert_col_end' : 'insert_col_start';\n      this.alter(alterAction, latestSelection.col, 1, 'ContextMenu.columnLeft');\n    },\n    disabled() {\n      if (!this.isColumnModificationAllowed()) {\n        return true;\n      }\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.col < 0) {\n        return true;\n      }\n      if (this.selection.isSelectedByCorner()) {\n        const totalColumns = this.countCols();\n\n        // Enable \"Insert column left\" only when there is at least one column.\n        return totalColumns === 0;\n      }\n      return this.selection.isSelectedByRowHeader() || this.countCols() >= this.getSettings().maxCols;\n    },\n    hidden() {\n      return !this.getSettings().allowInsertColumn;\n    }\n  };\n}", "import * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'col_right';\n\n/**\n * @returns {object}\n */\nexport default function columnRightItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_INSERT_RIGHT);\n    },\n    callback() {\n      const latestSelection = this.getSelectedRangeLast().getTopRightCorner();\n      const alterAction = this.isRtl() ? 'insert_col_start' : 'insert_col_end';\n      this.alter(alterAction, latestSelection.col, 1, 'ContextMenu.columnRight');\n    },\n    disabled() {\n      if (!this.isColumnModificationAllowed()) {\n        return true;\n      }\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.col < 0) {\n        return true;\n      }\n      if (this.selection.isSelectedByCorner()) {\n        // Enable \"Insert column right\" always when the menu is triggered by corner click.\n        return false;\n      }\n      return this.selection.isSelectedByRowHeader() || this.countCols() >= this.getSettings().maxCols;\n    },\n    hidden() {\n      return !this.getSettings().allowInsertColumn;\n    }\n  };\n}", "import { checkSelectionConsistency, markLabelAsSelected } from \"../utils.mjs\";\nimport { arrayEach } from \"../../../helpers/array.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'make_read_only';\n\n/**\n * @returns {object}\n */\nexport default function readOnlyItem() {\n  return {\n    key: KEY,\n    name() {\n      let label = this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_READ_ONLY);\n      const atLeastOneReadOnly = checkSelectionConsistency(this.getSelectedRange(), (row, col) => this.getCellMeta(row, col).readOnly);\n      if (atLeastOneReadOnly) {\n        label = markLabelAsSelected(label);\n      }\n      return label;\n    },\n    callback() {\n      const ranges = this.getSelectedRange();\n      const atLeastOneReadOnly = checkSelectionConsistency(ranges, (row, col) => this.getCellMeta(row, col).readOnly);\n      arrayEach(ranges, range => {\n        range.forAll((row, col) => {\n          if (row >= 0 && col >= 0) {\n            this.setCellMeta(row, col, 'readOnly', !atLeastOneReadOnly);\n          }\n        });\n      });\n      this.render();\n    },\n    disabled() {\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader()) {\n        return true;\n      }\n      if (this.selection.isSelectedByCorner()) {\n        return true;\n      }\n      if (this.countRows() === 0 || this.countCols() === 0) {\n        return true;\n      }\n      if (!this.getSelectedRange() || this.getSelectedRange().length === 0) {\n        return true;\n      }\n      return false;\n    }\n  };\n}", "import * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'redo';\n\n/**\n * @returns {object}\n */\nexport default function redoItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_REDO);\n    },\n    callback() {\n      this.redo();\n    },\n    hidden() {\n      const undoRedo = this.getPlugin('undoRedo');\n      return !undoRedo || !undoRedo.isEnabled();\n    },\n    disabled() {\n      return !this.getPlugin('undoRedo').isRedoAvailable();\n    }\n  };\n}", "import { transformSelectionToColumnDistance } from \"../../../selection/utils.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'remove_col';\n\n/**\n * @returns {object}\n */\nexport default function removeColumnItem() {\n  return {\n    key: KEY,\n    name() {\n      const selection = this.getSelected();\n      let pluralForm = 0;\n      if (selection) {\n        if (selection.length > 1) {\n          pluralForm = 1;\n        } else {\n          const [, fromColumn,, toColumn] = selection[0];\n          if (fromColumn - toColumn !== 0) {\n            pluralForm = 1;\n          }\n        }\n      }\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_REMOVE_COLUMN, pluralForm);\n    },\n    callback() {\n      this.alter('remove_col', transformSelectionToColumnDistance(this), null, 'ContextMenu.removeColumn');\n    },\n    disabled() {\n      if (!this.isColumnModificationAllowed()) {\n        return true;\n      }\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.col < 0) {\n        return true;\n      }\n      const totalColumns = this.countCols();\n      if (this.selection.isSelectedByCorner()) {\n        // Enable \"Remove column\" only when there is at least one column.\n        return totalColumns === 0;\n      }\n      return this.selection.isSelectedByRowHeader() || totalColumns === 0;\n    },\n    hidden() {\n      return !this.getSettings().allowRemoveColumn;\n    }\n  };\n}", "import { transformSelectionToRowDistance } from \"../../../selection/utils.mjs\";\nimport * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'remove_row';\n\n/**\n * @returns {object}\n */\nexport default function removeRowItem() {\n  return {\n    key: KEY,\n    name() {\n      const selection = this.getSelected();\n      let pluralForm = 0;\n      if (selection) {\n        if (selection.length > 1) {\n          pluralForm = 1;\n        } else {\n          const [fromRow,, toRow] = selection[0];\n          if (fromRow - toRow !== 0) {\n            pluralForm = 1;\n          }\n        }\n      }\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_REMOVE_ROW, pluralForm);\n    },\n    callback() {\n      // TODO: Please keep in mind that below `1` may be improper. The table's way of work, before change `f1747b3912ea3b21fe423fd102ca94c87db81379` was restored.\n      // There is still problem when removing more than one row.\n      this.alter('remove_row', transformSelectionToRowDistance(this), 1, 'ContextMenu.removeRow');\n    },\n    disabled() {\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.row < 0) {\n        return true;\n      }\n      const totalRows = this.countRows();\n      if (this.selection.isSelectedByCorner()) {\n        // Enable \"Remove row\" only when there is at least one row.\n        return totalRows === 0;\n      }\n      return this.selection.isSelectedByColumnHeader() || totalRows === 0;\n    },\n    hidden() {\n      return !this.getSettings().allowRemoveRow;\n    }\n  };\n}", "import * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'row_above';\n\n/**\n * @returns {object}\n */\nexport default function rowAboveItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ROW_ABOVE);\n    },\n    callback() {\n      const latestSelection = this.getSelectedRangeLast().getTopLeftCorner();\n      this.alter('insert_row_above', latestSelection.row, 1, 'ContextMenu.rowAbove');\n    },\n    disabled() {\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.row < 0) {\n        return true;\n      }\n      if (this.selection.isSelectedByCorner()) {\n        const totalRows = this.countRows();\n\n        // Enable \"Insert row above\" only when there is at least one row.\n        return totalRows === 0;\n      }\n      return this.selection.isSelectedByColumnHeader() || this.countRows() >= this.getSettings().maxRows;\n    },\n    hidden() {\n      return !this.getSettings().allowInsertRow;\n    }\n  };\n}", "import * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'row_below';\n\n/**\n * @returns {object}\n */\nexport default function rowBelowItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_ROW_BELOW);\n    },\n    callback() {\n      const latestSelection = this.getSelectedRangeLast().getBottomRightCorner();\n      this.alter('insert_row_below', latestSelection.row, 1, 'ContextMenu.rowBelow');\n    },\n    disabled() {\n      const range = this.getSelectedRangeLast();\n      if (!range) {\n        return true;\n      }\n      if (range.isSingleHeader() && range.highlight.row < 0) {\n        return true;\n      }\n      if (this.selection.isSelectedByCorner()) {\n        // Enable \"Insert row below\" always when the menu is triggered by corner click.\n        return false;\n      }\n      return this.selection.isSelectedByColumnHeader() || this.countRows() >= this.getSettings().maxRows;\n    },\n    hidden() {\n      return !this.getSettings().allowInsertRow;\n    }\n  };\n}", "import { CONTEXTMENU_ITEMS_NO_ITEMS } from \"../../../i18n/constants.mjs\";\nexport const KEY = 'no_items';\n\n/**\n * @returns {object}\n */\nexport default function noItemsItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(CONTEXTMENU_ITEMS_NO_ITEMS);\n    },\n    disabled: true,\n    isCommand: false\n  };\n}", "import * as C from \"../../../i18n/constants.mjs\";\nexport const KEY = 'undo';\n\n/**\n * @returns {object}\n */\nexport default function undoItem() {\n  return {\n    key: KEY,\n    name() {\n      return this.getTranslatedPhrase(C.CONTEXTMENU_ITEMS_UNDO);\n    },\n    callback() {\n      this.undo();\n    },\n    hidden() {\n      const undoRedo = this.getPlugin('undoRedo');\n      return !undoRedo || !undoRedo.isEnabled();\n    },\n    disabled() {\n      return !this.getPlugin('undoRedo').isUndoAvailable();\n    }\n  };\n}", "import { objectEach } from \"../../../helpers/object.mjs\";\nimport alignmentItem, { KEY as ALIGNMENT } from \"./alignment.mjs\";\nimport clearColumnItem, { KEY as CLEAR_COLUMN } from \"./clearColumn.mjs\";\nimport columnLeftItem, { KEY as COLUMN_LEFT } from \"./columnLeft.mjs\";\nimport columnRightItem, { KEY as COLUMN_RIGHT } from \"./columnRight.mjs\";\nimport readOnlyItem, { KEY as READ_ONLY } from \"./readOnly.mjs\";\nimport redoItem, { KEY as REDO } from \"./redo.mjs\";\nimport removeColumnItem, { KEY as REMOVE_COLUMN } from \"./removeColumn.mjs\";\nimport removeRowItem, { KEY as REMOVE_ROW } from \"./removeRow.mjs\";\nimport rowAboveItem, { KEY as ROW_ABOVE } from \"./rowAbove.mjs\";\nimport rowBelowItem, { KEY as ROW_BELOW } from \"./rowBelow.mjs\";\nimport separatorItem, { KEY as SEPARATOR } from \"./separator.mjs\";\nimport noItemsItem, { KEY as NO_ITEMS } from \"./noItems.mjs\";\nimport undoItem, { KEY as UNDO } from \"./undo.mjs\";\nexport { KEY as ALIGNMENT } from \"./alignment.mjs\";\nexport { KEY as CLEAR_COLUMN } from \"./clearColumn.mjs\";\nexport { KEY as COLUMN_LEFT } from \"./columnLeft.mjs\";\nexport { KEY as COLUMN_RIGHT } from \"./columnRight.mjs\";\nexport { KEY as READ_ONLY } from \"./readOnly.mjs\";\nexport { KEY as REDO } from \"./redo.mjs\";\nexport { KEY as REMOVE_COLUMN } from \"./removeColumn.mjs\";\nexport { KEY as REMOVE_ROW } from \"./removeRow.mjs\";\nexport { KEY as ROW_ABOVE } from \"./rowAbove.mjs\";\nexport { KEY as ROW_BELOW } from \"./rowBelow.mjs\";\nexport { KEY as SEPARATOR } from \"./separator.mjs\";\nexport { KEY as NO_ITEMS } from \"./noItems.mjs\";\nexport { KEY as UNDO } from \"./undo.mjs\";\nexport const ITEMS = [ROW_ABOVE, ROW_BELOW, COLUMN_LEFT, COLUMN_RIGHT, CLEAR_COLUMN, REMOVE_ROW, REMOVE_COLUMN, UNDO, REDO, READ_ONLY, ALIGNMENT, SEPARATOR, NO_ITEMS];\nconst _predefinedItems = {\n  [SEPARATOR]: separatorItem,\n  [NO_ITEMS]: noItemsItem,\n  [ROW_ABOVE]: rowAboveItem,\n  [ROW_BELOW]: rowBelowItem,\n  [COLUMN_LEFT]: columnLeftItem,\n  [COLUMN_RIGHT]: columnRightItem,\n  [CLEAR_COLUMN]: clearColumnItem,\n  [REMOVE_ROW]: removeRowItem,\n  [REMOVE_COLUMN]: removeColumnItem,\n  [UNDO]: undoItem,\n  [REDO]: redoItem,\n  [READ_ONLY]: readOnlyItem,\n  [ALIGNMENT]: alignmentItem\n};\n\n/**\n * Gets new object with all predefined menu items.\n *\n * @returns {object}\n */\nexport function predefinedItems() {\n  const items = {};\n  objectEach(_predefinedItems, (itemFactory, key) => {\n    items[key] = itemFactory();\n  });\n  return items;\n}\n\n/**\n * Add new predefined menu item to the collection.\n *\n * @param {string} key Menu command id.\n * @param {object} item Object command descriptor.\n */\nexport function addItem(key, item) {\n  if (ITEMS.indexOf(key) === -1) {\n    _predefinedItems[key] = item;\n  }\n}", "import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.error.cause.js\";\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport { objectEach, isObject, extend } from \"../../helpers/object.mjs\";\nimport { arrayEach } from \"../../helpers/array.mjs\";\nimport { SEPARATOR, ITEMS, predefinedItems } from \"./predefinedItems/index.mjs\";\n/**\n * Predefined items class factory for menu items.\n *\n * @private\n * @class ItemsFactory\n */\nexport class ItemsFactory {\n  constructor(hotInstance) {\n    let orderPattern = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    /**\n     * @type {Core}\n     */\n    _defineProperty(this, \"hot\", void 0);\n    /**\n     * @type {object}\n     */\n    _defineProperty(this, \"predefinedItems\", predefinedItems());\n    /**\n     * @type {Array}\n     */\n    _defineProperty(this, \"defaultOrderPattern\", void 0);\n    this.hot = hotInstance;\n    this.defaultOrderPattern = orderPattern;\n  }\n\n  /**\n   * Set predefined items.\n   *\n   * @param {Array} predefinedItemsCollection Array of predefined items.\n   */\n  setPredefinedItems(predefinedItemsCollection) {\n    const items = {};\n    this.defaultOrderPattern.length = 0;\n    objectEach(predefinedItemsCollection, (value, key) => {\n      let menuItemKey = '';\n      if (value.name === SEPARATOR) {\n        items[SEPARATOR] = value;\n        menuItemKey = SEPARATOR;\n\n        // Menu item added as a property to array\n      } else if (isNaN(parseInt(key, 10))) {\n        value.key = value.key === undefined ? key : value.key;\n        items[key] = value;\n        menuItemKey = value.key;\n      } else {\n        items[value.key] = value;\n        menuItemKey = value.key;\n      }\n      this.defaultOrderPattern.push(menuItemKey);\n    });\n    this.predefinedItems = items;\n  }\n\n  /**\n   * Get all menu items based on pattern.\n   *\n   * @param {Array|object|boolean} pattern Pattern which you can define by displaying menu items order. If `true` default\n   *                                       pattern will be used.\n   * @returns {Array}\n   */\n  getItems() {\n    let pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    return getItems(pattern, this.defaultOrderPattern, this.predefinedItems);\n  }\n}\n\n/**\n * @param {object[]} itemsPattern The user defined menu items collection.\n * @param {object[]} defaultPattern The menu default items collection.\n * @param {object} items Additional options.\n * @returns {object[]} Returns parsed and merged menu items collection ready to render.\n */\nfunction getItems() {\n  let itemsPattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  let defaultPattern = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  let items = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const result = [];\n  let pattern = itemsPattern;\n  if (pattern && pattern.items) {\n    pattern = pattern.items;\n  } else if (!Array.isArray(pattern)) {\n    pattern = defaultPattern;\n  }\n  if (isObject(pattern)) {\n    objectEach(pattern, (value, key) => {\n      let item = items[typeof value === 'string' ? value : key];\n      if (!item) {\n        item = value;\n      }\n      if (isObject(value)) {\n        extend(item, value);\n      } else if (typeof item === 'string') {\n        item = {\n          name: item\n        };\n      }\n      if (item.key === undefined) {\n        item.key = key;\n      }\n      result.push(item);\n    });\n  } else {\n    arrayEach(pattern, (name, key) => {\n      let item = items[name];\n\n      // Item deleted from settings `allowInsertRow: false` etc.\n      if (!item && ITEMS.indexOf(name) >= 0) {\n        return;\n      }\n      if (!item) {\n        item = {\n          name,\n          key: `${key}`\n        };\n      }\n      if (isObject(name)) {\n        extend(item, name);\n      }\n      if (item.key === undefined) {\n        item.key = key;\n      }\n      result.push(item);\n    });\n  }\n  return result;\n}", "import \"core-js/modules/es.error.cause.js\";\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n/**\n * Helper class for checking if element will fit at the desired side of cursor.\n *\n * @private\n * @class Cursor\n */\nexport class Cursor {\n  constructor(object, rootWindow) {\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"top\", void 0);\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"topRelative\", void 0);\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"left\", void 0);\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"leftRelative\", void 0);\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"scrollTop\", void 0);\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"scrollLeft\", void 0);\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"cellHeight\", void 0);\n    /**\n     * @type {number}\n     */\n    _defineProperty(this, \"cellWidth\", void 0);\n    const windowScrollTop = rootWindow.scrollY;\n    const windowScrollLeft = rootWindow.scrollX;\n    let top;\n    let topRelative;\n    let left;\n    let leftRelative;\n    let cellHeight;\n    let cellWidth;\n    this.rootWindow = rootWindow;\n    this.type = this.getSourceType(object);\n    if (this.type === 'literal') {\n      top = parseInt(object.top, 10);\n      left = parseInt(object.left, 10);\n      cellHeight = object.height || 0;\n      cellWidth = object.width || 0;\n      topRelative = top;\n      leftRelative = left;\n      top += windowScrollTop;\n      left += windowScrollLeft;\n    } else if (this.type === 'event') {\n      top = parseInt(object.pageY, 10);\n      left = parseInt(object.pageX, 10);\n      cellHeight = object.target.clientHeight;\n      cellWidth = object.target.clientWidth;\n      topRelative = top - windowScrollTop;\n      leftRelative = left - windowScrollLeft;\n    }\n    this.top = top;\n    this.topRelative = topRelative;\n    this.left = left;\n    this.leftRelative = leftRelative;\n    this.scrollTop = windowScrollTop;\n    this.scrollLeft = windowScrollLeft;\n    this.cellHeight = cellHeight;\n    this.cellWidth = cellWidth;\n  }\n\n  /**\n   * Get source type name.\n   *\n   * @param {*} object Event or Object with coordinates.\n   * @returns {string} Returns one of this values: `'literal'`, `'event'`.\n   */\n  getSourceType(object) {\n    let type = 'literal';\n    if (object instanceof Event) {\n      type = 'event';\n    }\n    return type;\n  }\n\n  /**\n   * Checks if element can be placed above the cursor.\n   *\n   * @param {HTMLElement} element Element to check if it's size will fit above the cursor.\n   * @returns {boolean}\n   */\n  fitsAbove(element) {\n    return this.topRelative >= element.offsetHeight;\n  }\n\n  /**\n   * Checks if element can be placed below the cursor.\n   *\n   * @param {HTMLElement} element Element to check if it's size will fit below the cursor.\n   * @param {number} [viewportHeight] The viewport height.\n   * @returns {boolean}\n   */\n  fitsBelow(element) {\n    let viewportHeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.rootWindow.innerHeight;\n    return this.topRelative + element.offsetHeight <= viewportHeight;\n  }\n\n  /**\n   * Checks if element can be placed on the right of the cursor.\n   *\n   * @param {HTMLElement} element Element to check if it's size will fit on the right of the cursor.\n   * @param {number} [viewportWidth] The viewport width.\n   * @returns {boolean}\n   */\n  fitsOnRight(element) {\n    let viewportWidth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.rootWindow.innerWidth;\n    return this.leftRelative + this.cellWidth + element.offsetWidth <= viewportWidth;\n  }\n\n  /**\n   * Checks if element can be placed on the left on the cursor.\n   *\n   * @param {HTMLElement} element Element to check if it's size will fit on the left of the cursor.\n   * @returns {boolean}\n   */\n  fitsOnLeft(element) {\n    return this.leftRelative >= element.offsetWidth;\n  }\n}", "import \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nimport { Cursor } from \"./cursor.mjs\";\n/**\n * Helper class for positioning the menu and submenus in the correct place relative to the\n * cursor position (DOM element or mouse coordinates).\n *\n * @private\n * @class Positioner\n */\nvar _container = /*#__PURE__*/new WeakMap();\nvar _parentContainer = /*#__PURE__*/new WeakMap();\nvar _cursor = /*#__PURE__*/new WeakMap();\nvar _keepInViewport = /*#__PURE__*/new WeakMap();\nvar _offset = /*#__PURE__*/new WeakMap();\nexport class Positioner {\n  constructor(keepInViewport) {\n    /**\n     * The menu container element the positioning will be applied to.\n     *\n     * @type {HTMLElement}\n     */\n    _classPrivateFieldInitSpec(this, _container, {\n      writable: true,\n      value: void 0\n    });\n    /**\n     * For positioning the submenu, the parent element is used to calculate offsets to ensure that submenu\n     * is positioned right next to the parent menu.\n     *\n     * @type {HTMLElement}\n     */\n    _classPrivateFieldInitSpec(this, _parentContainer, {\n      writable: true,\n      value: void 0\n    });\n    /**\n     * The instance of the Cursor class.\n     *\n     * @type {Cursor}\n     */\n    _classPrivateFieldInitSpec(this, _cursor, {\n      writable: true,\n      value: void 0\n    });\n    /**\n     * Enabling the option allows changing the position calculation so that the menus (or submenus)\n     * are always placed within the visible viewport of the browser.\n     *\n     * @type {boolean}\n     */\n    _classPrivateFieldInitSpec(this, _keepInViewport, {\n      writable: true,\n      value: false\n    });\n    /**\n     * Allows apply the position offset for directions.\n     *\n     * @type {{above: number, below: number, left: number, right: number}}\n     */\n    _classPrivateFieldInitSpec(this, _offset, {\n      writable: true,\n      value: {\n        above: 0,\n        below: 0,\n        left: 0,\n        right: 0\n      }\n    });\n    _classPrivateFieldSet(this, _keepInViewport, keepInViewport);\n  }\n\n  /**\n   * Sets offset position for specified directions (`above`, `below`, `left` or `right`).\n   *\n   * @param {'above' | 'below' | 'left' | 'right'} direction A direction name.\n   * @param {number} [offset=0] Offset value.\n   * @returns {Positioner}\n   */\n  setOffset(direction) {\n    let offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    _classPrivateFieldGet(this, _offset)[direction] = offset;\n    return this;\n  }\n\n  /**\n   * Sets the menu element to work with. The element can be owned by the main menu or the submenu.\n   *\n   * @param {HTMLElement} container The menu container element.\n   * @returns {Positioner}\n   */\n  setElement(container) {\n    _classPrivateFieldSet(this, _container, container);\n    return this;\n  }\n\n  /**\n   * Sets the parent menu element to work with.\n   *\n   * @param {HTMLElement} container The parent menu container element.\n   * @returns {Positioner}\n   */\n  setParentElement(container) {\n    _classPrivateFieldSet(this, _parentContainer, container);\n    return this;\n  }\n\n  /**\n   * Updates the menu position.\n   *\n   * @param {object|MouseEvent} coords The literal object with `top`, `left`, `width` and `height` props or a\n   * mouse event object.\n   */\n  updatePosition(coords) {\n    _classPrivateFieldSet(this, _cursor, new Cursor(coords, _classPrivateFieldGet(this, _container).ownerDocument.defaultView));\n    if (_classPrivateFieldGet(this, _keepInViewport)) {\n      if (_classPrivateFieldGet(this, _cursor).fitsBelow(_classPrivateFieldGet(this, _container))) {\n        this.setPositionBelowCursor();\n      } else if (_classPrivateFieldGet(this, _cursor).fitsAbove(_classPrivateFieldGet(this, _container))) {\n        this.setPositionAboveCursor();\n      } else {\n        this.setPositionBelowCursor();\n      }\n      this.updateHorizontalPosition();\n    } else {\n      this.setPositionBelowCursor();\n      this.setPositionOnRightOfCursor();\n    }\n  }\n\n  /**\n   * Updates the menu horizontal position.\n   */\n  updateHorizontalPosition() {\n    if (_classPrivateFieldGet(this, _container).dir === 'rtl') {\n      if (_classPrivateFieldGet(this, _cursor).fitsOnLeft(_classPrivateFieldGet(this, _container))) {\n        this.setPositionOnLeftOfCursor();\n      } else {\n        this.setPositionOnRightOfCursor();\n      }\n    } else if (_classPrivateFieldGet(this, _cursor).fitsOnRight(_classPrivateFieldGet(this, _container))) {\n      this.setPositionOnRightOfCursor();\n    } else {\n      this.setPositionOnLeftOfCursor();\n    }\n  }\n\n  /**\n   * Sets the menu position above the cursor object.\n   */\n  setPositionAboveCursor() {\n    let top = _classPrivateFieldGet(this, _offset).above + _classPrivateFieldGet(this, _cursor).top - _classPrivateFieldGet(this, _container).offsetHeight;\n    if (_classPrivateFieldGet(this, _parentContainer)) {\n      top = _classPrivateFieldGet(this, _cursor).top + _classPrivateFieldGet(this, _cursor).cellHeight - _classPrivateFieldGet(this, _container).offsetHeight + 3;\n    }\n    _classPrivateFieldGet(this, _container).style.top = `${top}px`;\n  }\n\n  /**\n   * Sets the menu position below the cursor object.\n   */\n  setPositionBelowCursor() {\n    let top = _classPrivateFieldGet(this, _offset).below + _classPrivateFieldGet(this, _cursor).top + 1;\n    if (_classPrivateFieldGet(this, _parentContainer)) {\n      top = _classPrivateFieldGet(this, _cursor).top - 1;\n    }\n    _classPrivateFieldGet(this, _container).style.top = `${top}px`;\n  }\n\n  /**\n   * Sets the menu position on the right of the cursor object.\n   */\n  setPositionOnRightOfCursor() {\n    let left = _classPrivateFieldGet(this, _cursor).left;\n    if (_classPrivateFieldGet(this, _parentContainer)) {\n      const {\n        right: parentMenuRight\n      } = _classPrivateFieldGet(this, _parentContainer).getBoundingClientRect();\n\n      // move the sub menu by the width of the parent's border (usually by 1-2 pixels)\n      left += _classPrivateFieldGet(this, _cursor).cellWidth + parentMenuRight - (_classPrivateFieldGet(this, _cursor).left + _classPrivateFieldGet(this, _cursor).cellWidth);\n    } else {\n      left += _classPrivateFieldGet(this, _offset).right;\n    }\n    _classPrivateFieldGet(this, _container).style.left = `${left}px`;\n  }\n\n  /**\n   * Sets the menu position on the left of the cursor object.\n   */\n  setPositionOnLeftOfCursor() {\n    let left = _classPrivateFieldGet(this, _offset).left + _classPrivateFieldGet(this, _cursor).left - _classPrivateFieldGet(this, _container).offsetWidth;\n    if (_classPrivateFieldGet(this, _parentContainer)) {\n      const {\n        left: parentMenuLeft\n      } = _classPrivateFieldGet(this, _parentContainer).getBoundingClientRect();\n\n      // move the sub menu by the width of the parent's border (usually by 1-2 pixels)\n      left -= _classPrivateFieldGet(this, _cursor).left - parentMenuLeft;\n    }\n    _classPrivateFieldGet(this, _container).style.left = `${left}px`;\n  }\n}", "import { clamp } from \"../helpers/number.mjs\";\n/**\n * @typedef Paginator\n * @property {function(number): void} setCurrentPage Sets the current index to the specific page.\n * @property {function(): number} getCurrentPage Gets the current page.\n * @property {function(): number} getSize Gets the total number of pages.\n * @property {function(): void} toFirstItem Move the index to the first page.\n * @property {function(): void} toLastItem Move the index to the last page.\n * @property {function(): void} toNextItem Move the index to the next page.\n * @property {function(): void} toPreviousItem Move the index to the previous page.\n * @property {function(): void} clear Clear the internal state of the paginator.\n */\n/**\n * @param {object} options Paginator options.\n * @param {number} [options.initialPage] Initial index from which paging starts. Also, after clearing the paginator\n * the page is cleared to the initial page.\n * @param {function(): number} [options.size] Sets the max size of the pages.\n * @param {function(number): boolean | void} [options.onItemSelect] Fires the function on each page change.\n * @param {function(): void} [options.onClear] Fires the function after clearing the state.\n * @returns {Paginator}\n */\nexport function createPaginator(_ref) {\n  let {\n    initialPage = -1,\n    size = () => 0,\n    onItemSelect = () => {},\n    onClear = () => {}\n  } = _ref;\n  const visitedPages = new Set();\n  let currentIndex = clamp(initialPage, -1, getSize() - 1);\n\n  /**\n   * Updates the internal state of the paginator.\n   *\n   * @param {number} newIndex The page index to switch.\n   * @param {-1|1} direction The direction of traversing the pages in case when they are disabled.\n   * @returns {number} Returns the final index of the page.\n   */\n  function _updateState(newIndex, direction) {\n    const lastIndex = getSize() - 1;\n    if (newIndex < 0) {\n      newIndex = lastIndex;\n    }\n    if (newIndex > lastIndex) {\n      newIndex = 0;\n    }\n    if (visitedPages.has(newIndex)) {\n      return -1;\n    }\n    visitedPages.add(newIndex);\n    const changeProceed = onItemSelect(newIndex, false);\n    if (changeProceed === false) {\n      newIndex = _updateState(direction === 1 ? ++newIndex : --newIndex,\n      // eslint-disable-line no-plusplus\n      direction);\n    }\n    return newIndex;\n  }\n\n  /**\n   * Sets the page index as current one.\n   *\n   * @param {number} index The index to set.\n   */\n  function setCurrentPage(index) {\n    if (index > -1 && index < getSize() && onItemSelect(index, true) !== false) {\n      currentIndex = index;\n    }\n  }\n\n  /**\n   * Gets the current page.\n   *\n   * @returns {number}\n   */\n  function getCurrentPage() {\n    return currentIndex;\n  }\n\n  /**\n   * Moves the index to the first page.\n   */\n  function toFirstItem() {\n    if (getSize() > 0) {\n      visitedPages.clear();\n      currentIndex = _updateState(0, 1);\n    }\n  }\n\n  /**\n   * Moves the index to the last page.\n   */\n  function toLastItem() {\n    if (getSize() > 0) {\n      visitedPages.clear();\n      currentIndex = _updateState(getSize() - 1, -1);\n    }\n  }\n\n  /**\n   * Moves the index to the next page.\n   */\n  function toNextItem() {\n    if (getSize() > 0) {\n      visitedPages.clear();\n      currentIndex = _updateState(++currentIndex, 1); // eslint-disable-line no-plusplus\n    }\n  }\n\n  /**\n   * Moves the index to the previous page.\n   */\n  function toPreviousItem() {\n    if (getSize() > 0) {\n      visitedPages.clear();\n      currentIndex = _updateState(--currentIndex, -1); // eslint-disable-line no-plusplus\n    }\n  }\n\n  /**\n   * Gets the total number of pages.\n   *\n   * @returns {number}\n   */\n  function getSize() {\n    return Math.max(size(), 0);\n  }\n\n  /**\n   * Clears the internal state of the paginator.\n   */\n  function clear() {\n    visitedPages.clear();\n    currentIndex = initialPage;\n    onClear();\n  }\n  return {\n    setCurrentPage,\n    getCurrentPage,\n    toFirstItem,\n    toLastItem,\n    toNextItem,\n    toPreviousItem,\n    getSize,\n    clear\n  };\n}", "import \"core-js/modules/es.array.push.js\";\nimport { arrayEach, arrayMap } from \"../../../helpers/array.mjs\";\nimport { hasOwnProperty } from \"../../../helpers/object.mjs\";\nimport { hasClass } from \"../../../helpers/dom/element.mjs\";\nimport { SEPARATOR } from \"./../predefinedItems/index.mjs\";\n/**\n * @param {CellRange[]} selRanges An array of the cell ranges.\n * @returns {object[]}\n */\nexport function normalizeSelection(selRanges) {\n  return arrayMap(selRanges, range => ({\n    start: range.getTopStartCorner(),\n    end: range.getBottomEndCorner()\n  }));\n}\n\n/**\n * Check if the provided element is a submenu opener.\n *\n * @param {object} itemToTest Item element.\n * @returns {boolean}\n */\nexport function isItemSubMenu(itemToTest) {\n  return hasOwnProperty(itemToTest, 'submenu');\n}\n\n/**\n * Check if the provided element is a menu separator.\n *\n * @param {object} itemToTest Item element.\n * @returns {boolean}\n */\nexport function isItemSeparator(itemToTest) {\n  return new RegExp(SEPARATOR, 'i').test(itemToTest.name);\n}\n\n/**\n * Check if the provided element presents the disabled menu item.\n *\n * @param {object} itemToTest Item element.\n * @param {object} hot The context for the item function.\n * @returns {boolean}\n */\nexport function isItemDisabled(itemToTest, hot) {\n  return itemToTest.disabled === true || typeof itemToTest.disabled === 'function' && itemToTest.disabled.call(hot) === true;\n}\n\n/**\n * Check if the provided element presents the disabled selection menu item.\n *\n * @param {object} itemToTest Item element.\n * @returns {boolean}\n */\nexport function isItemSelectionDisabled(itemToTest) {\n  return hasOwnProperty(itemToTest, 'disableSelection');\n}\n\n/**\n * @param {HTMLElement} cell The HTML cell element to check.\n * @returns {boolean}\n */\nexport function isSeparator(cell) {\n  return hasClass(cell, 'htSeparator');\n}\n\n/**\n * @param {HTMLElement} cell The HTML cell element to check.\n * @returns {boolean}\n */\nexport function hasSubMenu(cell) {\n  return hasClass(cell, 'htSubmenu');\n}\n\n/**\n * @param {HTMLElement} cell The HTML cell element to check.\n * @returns {boolean}\n */\nexport function isDisabled(cell) {\n  return hasClass(cell, 'htDisabled');\n}\n\n/**\n * @param {HTMLElement} cell The HTML cell element to check.\n * @returns {boolean}\n */\nexport function isSelectionDisabled(cell) {\n  return hasClass(cell, 'htSelectionDisabled');\n}\n\n/**\n * @param {object} item The object which describes the context menu item properties.\n * @param {Core} instance The Handsontable instance.\n * @returns {boolean}\n */\nexport function isItemHidden(item, instance) {\n  return !item.hidden || !(typeof item.hidden === 'function' && item.hidden.call(instance));\n}\n\n/**\n * @param {object[]} items The context menu items collection.\n * @param {string} separator The string which identifies the context menu separator item.\n * @returns {object[]}\n */\nfunction shiftSeparators(items, separator) {\n  const result = items.slice(0);\n  for (let i = 0; i < result.length;) {\n    if (result[i].name === separator) {\n      result.shift();\n    } else {\n      break;\n    }\n  }\n  return result;\n}\n\n/**\n * @param {object[]} items The context menu items collection.\n * @param {string} separator The string which identifies the context menu separator item.\n * @returns {object[]}\n */\nfunction popSeparators(items, separator) {\n  let result = items.slice(0);\n  result.reverse();\n  result = shiftSeparators(result, separator);\n  result.reverse();\n  return result;\n}\n\n/**\n * Removes duplicated menu separators from the context menu items collection.\n *\n * @param {object[]} items The context menu items collection.\n * @returns {object[]}\n */\nfunction removeDuplicatedSeparators(items) {\n  const result = [];\n  arrayEach(items, (value, index) => {\n    if (index > 0) {\n      if (result[result.length - 1].name !== value.name) {\n        result.push(value);\n      }\n    } else {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\n/**\n * Removes menu separators from the context menu items collection.\n *\n * @param {object[]} items The context menu items collection.\n * @param {string} separator The string which identifies the context menu separator item.\n * @returns {object[]}\n */\nexport function filterSeparators(items) {\n  let separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : SEPARATOR;\n  let result = items.slice(0);\n  result = shiftSeparators(result, separator);\n  result = popSeparators(result, separator);\n  result = removeDuplicatedSeparators(result);\n  return result;\n}", "import { createPaginator } from \"../../../utils/paginator.mjs\";\nimport { isSeparator, isDisabled, isSelectionDisabled } from \"./utils.mjs\";\n/**\n * Creates navigator for menus and submenus.\n *\n * @param {Handsontable} hotMenu The Handsontable instance of the menu.\n * @returns {Paginator}\n */\nexport function createMenuNavigator(hotMenu) {\n  return createPaginator({\n    size: () => hotMenu.countRows(),\n    onItemSelect(currentItem, directItemChange) {\n      const cell = hotMenu.getCell(currentItem, 0);\n      if (!cell || isSeparator(cell) || isDisabled(cell) || isSelectionDisabled(cell)) {\n        return false;\n      }\n      hotMenu.selectCell(currentItem, 0, ...(directItemChange ? [currentItem, 0, false, false] : []));\n    },\n    onClear() {\n      hotMenu.deselectCell();\n    }\n  });\n}", "/**\n * Creates a keyboard shortcuts list with default keyboards binds.\n *\n * @param {Menu} menu The main menu instance.\n * @returns {KeyboardShortcut[]}\n */\nexport function createDefaultShortcutsList(menu) {\n  return [{\n    keys: [['Tab'], ['Shift', 'Tab'], ['Control/Meta', 'A']],\n    forwardToContext: menu.hot.getShortcutManager().getContext('grid'),\n    callback: () => menu.close(true)\n  }, {\n    keys: [['Escape']],\n    callback: () => menu.close()\n  }, {\n    keys: [['ArrowDown']],\n    callback: () => menu.getNavigator().toNextItem()\n  }, {\n    keys: [['ArrowUp']],\n    callback: () => menu.getNavigator().toPreviousItem()\n  }, {\n    keys: [['ArrowRight']],\n    callback: () => {\n      const selection = menu.hotMenu.getSelectedLast();\n      if (selection) {\n        const subMenu = menu.openSubMenu(selection[0]);\n        if (subMenu) {\n          subMenu.getNavigator().toFirstItem();\n        }\n      }\n    }\n  }, {\n    keys: [['ArrowLeft']],\n    callback: () => {\n      const selection = menu.hotMenu.getSelectedLast();\n      if (selection && menu.isSubMenu()) {\n        menu.close();\n        if (menu.isSubMenu()) {\n          menu.parentMenu.hotMenu.listen();\n        }\n      }\n    }\n  }, {\n    keys: [['Control/Meta', 'ArrowUp'], ['Home']],\n    callback: () => menu.getNavigator().toFirstItem()\n  }, {\n    keys: [['Control/Meta', 'ArrowDown'], ['End']],\n    callback: () => menu.getNavigator().toLastItem()\n  }, {\n    keys: [['Enter'], ['Space']],\n    callback: event => {\n      const selection = menu.hotMenu.getSelectedLast();\n      if (!selection) {\n        return;\n      }\n      if (menu.hotMenu.getSourceDataAtRow(selection[0]).submenu) {\n        menu.openSubMenu(selection[0]).getNavigator().toFirstItem();\n      } else {\n        menu.executeCommand(event);\n        menu.close(true);\n      }\n    }\n  }, {\n    keys: [['PageUp']],\n    callback: () => {\n      const selection = menu.hotMenu.getSelectedLast();\n      if (selection) {\n        menu.hotMenu.selection.transformStart(-menu.hotMenu.countVisibleRows(), 0);\n      } else {\n        menu.getNavigator().toFirstItem();\n      }\n    }\n  }, {\n    keys: [['PageDown']],\n    callback: () => {\n      const selection = menu.hotMenu.getSelectedLast();\n      if (selection) {\n        menu.hotMenu.selection.transformStart(menu.hotMenu.countVisibleRows(), 0);\n      } else {\n        menu.getNavigator().toLastItem();\n      }\n    }\n  }];\n}", "import \"core-js/modules/es.array.push.js\";\nimport { createDefaultShortcutsList } from \"./defaultShortcutsList.mjs\";\nconst SHORTCUTS_CONTEXT = 'menu';\nconst SHORTCUTS_GROUP = SHORTCUTS_CONTEXT;\n\n/**\n * @typedef KeyboardShortcutsMenuController\n * @property {function(KeyboardShortcut[]): void} addCustomShortcuts Adds (by replacing) new keyboard shortcuts to the menu.\n * @property {function(string): number} getContext Gets the keyboard shortcuts context by name.\n * @property {function(string): void} listen Sets the active keyboard shortcuts context of the menu.\n */\n/**\n * Creates the controller object that allows extending the keyboard shortcuts of the menu.\n *\n * @param {Menu} menu The menu instance.\n * @param {Array<{ shortcuts: KeyboardShortcut, contextName: string }>} [customKeyboardShortcuts] The list of the custom keyboard shortcuts.\n * @returns {KeyboardShortcutsMenuController}\n */\nexport function createKeyboardShortcutsCtrl(menu) {\n  let customKeyboardShortcuts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const customShortcuts = [];\n  _addShortcuts(createDefaultShortcutsList(menu));\n  customKeyboardShortcuts.forEach(_ref => {\n    let {\n      shortcuts,\n      contextName\n    } = _ref;\n    addCustomShortcuts(shortcuts, contextName);\n  });\n\n  /**\n   * Adds keyboard shortcuts to the menu.\n   *\n   * @param {KeyboardShortcut[]} shortcuts Keyboard shortcuts to add.\n   * @param {string} [contextName] The context name to create or use.\n   */\n  function _addShortcuts(shortcuts, contextName) {\n    getContext(contextName).addShortcuts(shortcuts, {\n      group: SHORTCUTS_CONTEXT\n    });\n  }\n\n  /**\n   * Adds custom keyboard shortcuts to the menu.\n   *\n   * @param {KeyboardShortcut[]} shortcuts Keyboard shortcuts to add.\n   * @param {string} [contextName] The context name to create or use.\n   */\n  function addCustomShortcuts(shortcuts, contextName) {\n    const context = getContext(contextName);\n    shortcuts.forEach(_ref2 => {\n      let {\n        keys\n      } = _ref2;\n      keys.forEach(k => context.removeShortcutsByKeys(k));\n    });\n    customShortcuts.push({\n      shortcuts,\n      contextName\n    });\n    _addShortcuts(shortcuts, contextName);\n  }\n\n  /**\n   * Gets all registered custom keyboard shortcuts.\n   *\n   * @returns {Array<{ shortcuts: KeyboardShortcut, contextName: string }>}\n   */\n  function getCustomShortcuts() {\n    return [...customShortcuts];\n  }\n\n  /**\n   * Gets the context name.\n   *\n   * @param {string} contextName The context name.\n   * @returns {string}\n   */\n  function _getContextName(contextName) {\n    return contextName ? `${SHORTCUTS_GROUP}:${contextName}` : SHORTCUTS_GROUP;\n  }\n\n  /**\n   * Gets the keyboard shortcut context by its name.\n   *\n   * @param {string} contextName The context name.\n   * @returns {object}\n   */\n  function getContext(contextName) {\n    var _manager$getContext;\n    const manager = menu.hotMenu.getShortcutManager();\n    const name = _getContextName(contextName);\n    return (_manager$getContext = manager.getContext(name)) !== null && _manager$getContext !== void 0 ? _manager$getContext : manager.addContext(name);\n  }\n\n  /**\n   * Makes the specified context active.\n   *\n   * @param {string} contextName The context name.\n   */\n  function listen(contextName) {\n    menu.hotMenu.getShortcutManager().setActiveContextName(_getContextName(contextName));\n  }\n  return {\n    addCustomShortcuts,\n    getCustomShortcuts,\n    getContext,\n    listen\n  };\n}", "import { isItemSubMenu, isItemDisabled, isItemSelectionDisabled, isItemSeparator } from \"./utils.mjs\";\nimport { addClass, empty, fastInnerHTML, setAttribute } from \"../../../helpers/dom/element.mjs\";\nimport { A11Y_DISABLED, A11Y_EXPANDED, A11Y_LABEL, A11Y_MENU_ITEM, A11Y_TABINDEX } from \"../../../helpers/a11y.mjs\";\n/**\n * Creates the menu renderer function.\n *\n * @private\n * @param {Core} mainTableHot The main table Handsontable instance.\n * @returns {Function}\n */\nexport function createMenuItemRenderer(mainTableHot) {\n  /**\n   * Menu item renderer.\n   *\n   * @private\n   * @param {Core} menuHot The Handsontable instance.\n   * @param {HTMLCellElement} TD The rendered cell element.\n   * @param {number} row The visual index.\n   * @param {number} col The visual index.\n   * @param {string} prop The column property if used.\n   * @param {string} value The cell value.\n   */\n  return (menuHot, TD, row, col, prop, value) => {\n    if (TD.hasAttribute('ghost-table')) {\n      return;\n    }\n    const item = menuHot.getSourceDataAtRow(row);\n    const wrapper = mainTableHot.rootDocument.createElement('div');\n    const itemValue = typeof value === 'function' ? value.call(mainTableHot) : value;\n    empty(TD);\n    addClass(wrapper, 'htItemWrapper');\n    if (mainTableHot.getSettings().ariaTags) {\n      const isFocusable = !isItemDisabled(item, mainTableHot) && !isItemSelectionDisabled(item) && !isItemSeparator(item);\n      setAttribute(TD, [A11Y_MENU_ITEM(), A11Y_LABEL(itemValue), ...(isFocusable ? [A11Y_TABINDEX(-1)] : []), ...(isItemDisabled(item, mainTableHot) ? [A11Y_DISABLED()] : []), ...(isItemSubMenu(item) ? [A11Y_EXPANDED(false)] : [])]);\n    }\n    TD.className = '';\n    TD.appendChild(wrapper);\n    if (isItemSeparator(item)) {\n      addClass(TD, 'htSeparator');\n    } else if (typeof item.renderer === 'function') {\n      addClass(TD, 'htCustomMenuRenderer');\n      TD.appendChild(item.renderer(menuHot, wrapper, row, col, prop, itemValue));\n    } else {\n      fastInnerHTML(wrapper, itemValue);\n    }\n    if (isItemDisabled(item, mainTableHot)) {\n      addClass(TD, 'htDisabled');\n    } else if (isItemSelectionDisabled(item)) {\n      addClass(TD, 'htSelectionDisabled');\n    } else if (isItemSubMenu(item)) {\n      addClass(TD, 'htSubmenu');\n    }\n  };\n}", "import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\nimport { Positioner } from \"./positioner.mjs\";\nimport { createMenuNavigator } from \"./navigator.mjs\";\nimport { createKeyboardShortcutsCtrl } from \"./shortcuts.mjs\";\nimport { SEPARATOR, NO_ITEMS, predefinedItems } from \"./../predefinedItems/index.mjs\";\nimport { filterSeparators, hasSubMenu, isItemHidden, normalizeSelection, isItemSubMenu, isItemDisabled, isItemSeparator } from \"./utils.mjs\";\nimport EventManager from \"../../../eventManager.mjs\";\nimport { arrayEach, arrayFilter, arrayReduce } from \"../../../helpers/array.mjs\";\nimport { isWindowsOS, isMobileBrowser, isIpadOS } from \"../../../helpers/browser.mjs\";\nimport { addClass, isChildOf, getParentWindow, hasClass, setAttribute } from \"../../../helpers/dom/element.mjs\";\nimport { isRightClick } from \"../../../helpers/dom/event.mjs\";\nimport { debounce, isFunction } from \"../../../helpers/function.mjs\";\nimport { isUndefined, isDefined } from \"../../../helpers/mixed.mjs\";\nimport { mixin } from \"../../../helpers/object.mjs\";\nimport localHooks from \"../../../mixins/localHooks.mjs\";\nimport { createMenuItemRenderer } from \"./menuItemRenderer.mjs\";\nimport { A11Y_EXPANDED, A11Y_MENU, A11Y_TABINDEX } from \"../../../helpers/a11y.mjs\";\nconst MIN_WIDTH = 215;\n\n/**\n * @typedef MenuOptions\n * @property {Menu} [parent=null] Instance of {@link Menu}.\n * @property {string} [name=null] Name of the menu.\n * @property {string} [className=''] Custom class name.\n * @property {boolean} [keepInViewport=true] Determine if should be kept in viewport.\n * @property {boolean} [standalone] Enabling closing menu when clicked element is not belongs to menu itself.\n * @property {number} [minWidth=MIN_WIDTH] The minimum width.\n * @property {HTMLElement} [container] The container.\n */\n\n/**\n * @private\n * @class Menu\n */\nvar _navigator = /*#__PURE__*/new WeakMap();\nvar _shortcutsCtrl = /*#__PURE__*/new WeakMap();\nexport class Menu {\n  /**\n   * @param {Core} hotInstance Handsontable instance.\n   * @param {MenuOptions} [options] Menu options.\n   */\n  constructor(hotInstance, options) {\n    var _this = this;\n    /**\n     * The Handsontable instance.\n     *\n     * @type {Core}\n     */\n    _defineProperty(this, \"hot\", void 0);\n    /**\n     * The Menu options.\n     *\n     * @type {object}\n     */\n    _defineProperty(this, \"options\", void 0);\n    /**\n     * @type {EventManager}\n     */\n    _defineProperty(this, \"eventManager\", new EventManager(this));\n    /**\n     * The Menu container element.\n     *\n     * @type {HTMLElement}\n     */\n    _defineProperty(this, \"container\", void 0);\n    /**\n     * @type {Positioner}\n     */\n    _defineProperty(this, \"positioner\", void 0);\n    /**\n     * The instance of the Handsontable that is used as a menu.\n     *\n     * @type {Core}\n     */\n    _defineProperty(this, \"hotMenu\", null);\n    /**\n     * The collection of the Handsontable instances that are used as sub-menus.\n     *\n     * @type {object}\n     */\n    _defineProperty(this, \"hotSubMenus\", {});\n    /**\n     * If the menu acts as the sub-menu then this property contains the reference to the parent menu.\n     *\n     * @type {Menu}\n     */\n    _defineProperty(this, \"parentMenu\", void 0);\n    /**\n     * The menu items entries.\n     *\n     * @type {object[]}\n     */\n    _defineProperty(this, \"menuItems\", null);\n    /**\n     * @type {boolean}\n     */\n    _defineProperty(this, \"origOutsideClickDeselects\", null);\n    /**\n     * The controller module that allows modifying the menu item selection positions.\n     *\n     * @type {Paginator}\n     */\n    _classPrivateFieldInitSpec(this, _navigator, {\n      writable: true,\n      value: void 0\n    });\n    /**\n     * The controller module that allows extending the keyboard shortcuts for the menu.\n     *\n     * @type {KeyboardShortcutsMenuController}\n     */\n    _classPrivateFieldInitSpec(this, _shortcutsCtrl, {\n      writable: true,\n      value: void 0\n    });\n    this.hot = hotInstance;\n    this.options = options || {\n      parent: null,\n      name: null,\n      className: '',\n      keepInViewport: true,\n      standalone: false,\n      minWidth: MIN_WIDTH,\n      container: this.hot.rootDocument.documentElement\n    };\n    this.container = this.createContainer(this.options.name);\n    this.positioner = new Positioner(this.options.keepInViewport);\n    this.parentMenu = this.options.parent || null;\n    this.registerEvents();\n    if (this.isSubMenu()) {\n      this.addLocalHook('afterSelectionChange', function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        return _this.parentMenu.runLocalHooks('afterSelectionChange', ...args);\n      });\n    }\n  }\n\n  /**\n   * Register event listeners.\n   *\n   * @private\n   */\n  registerEvents() {\n    let frame = this.hot.rootWindow;\n    while (frame) {\n      this.eventManager.addEventListener(frame.document, 'mousedown', event => this.onDocumentMouseDown(event));\n      this.eventManager.addEventListener(frame.document, 'contextmenu', event => this.onDocumentContextMenu(event));\n      frame = getParentWindow(frame);\n    }\n  }\n\n  /**\n   * Set array of objects which defines menu items.\n   *\n   * @param {Array} menuItems Menu items to display.\n   */\n  setMenuItems(menuItems) {\n    this.menuItems = menuItems;\n  }\n\n  /**\n   * Gets the controller object that allows modifying the the menu item selection.\n   *\n   * @returns {Paginator | undefined}\n   */\n  getNavigator() {\n    return _classPrivateFieldGet(this, _navigator);\n  }\n\n  /**\n   * Gets the controller object that allows extending the keyboard shortcuts of the menu.\n   *\n   * @returns {KeyboardShortcutsMenuController | undefined}\n   */\n  getKeyboardShortcutsCtrl() {\n    return _classPrivateFieldGet(this, _shortcutsCtrl);\n  }\n\n  /**\n   * Returns currently selected menu item. Returns `null` if no item was selected.\n   *\n   * @returns {object|null}\n   */\n  getSelectedItem() {\n    return this.hasSelectedItem() ? this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelectedLast()[0]) : null;\n  }\n\n  /**\n   * Checks if the menu has selected (highlighted) any item from the menu list.\n   *\n   * @returns {boolean}\n   */\n  hasSelectedItem() {\n    return Array.isArray(this.hotMenu.getSelectedLast());\n  }\n\n  /**\n   * Check if menu is using as sub-menu.\n   *\n   * @returns {boolean}\n   */\n  isSubMenu() {\n    return this.parentMenu !== null;\n  }\n\n  /**\n   * Open menu.\n   *\n   * @fires Hooks#beforeContextMenuShow\n   * @fires Hooks#afterContextMenuShow\n   */\n  open() {\n    this.runLocalHooks('beforeOpen');\n    this.container.removeAttribute('style');\n    this.container.style.display = 'block';\n    const delayedOpenSubMenu = debounce(row => this.openSubMenu(row), 300);\n    const minWidthOfMenu = this.options.minWidth || MIN_WIDTH;\n    let noItemsDefined = false;\n    let filteredItems = arrayFilter(this.menuItems, item => {\n      if (item.key === NO_ITEMS) {\n        noItemsDefined = true;\n      }\n      return isItemHidden(item, this.hot);\n    });\n    if (filteredItems.length < 1 && !noItemsDefined) {\n      filteredItems.push(predefinedItems()[NO_ITEMS]);\n    } else if (filteredItems.length === 0) {\n      return;\n    }\n    filteredItems = filterSeparators(filteredItems, SEPARATOR);\n    let shouldAutoCloseMenu = false;\n    const settings = {\n      data: filteredItems,\n      colHeaders: false,\n      autoColumnSize: true,\n      autoWrapRow: false,\n      modifyColWidth(width) {\n        if (isDefined(width) && width < minWidthOfMenu) {\n          return minWidthOfMenu;\n        }\n        return width;\n      },\n      autoRowSize: false,\n      readOnly: true,\n      editor: false,\n      copyPaste: false,\n      hiddenRows: true,\n      maxCols: 1,\n      columns: [{\n        data: 'name',\n        renderer: createMenuItemRenderer(this.hot)\n      }],\n      renderAllRows: true,\n      fragmentSelection: false,\n      outsideClickDeselects: false,\n      disableVisualSelection: 'area',\n      layoutDirection: this.hot.isRtl() ? 'rtl' : 'ltr',\n      ariaTags: false,\n      beforeOnCellMouseOver: (event, coords) => {\n        _classPrivateFieldGet(this, _navigator).setCurrentPage(coords.row);\n      },\n      afterOnCellMouseOver: (event, coords) => {\n        if (this.isAllSubMenusClosed()) {\n          delayedOpenSubMenu(coords.row);\n        } else {\n          this.openSubMenu(coords.row);\n        }\n      },\n      rowHeights: row => filteredItems[row].name === SEPARATOR ? 1 : 23,\n      afterOnCellContextMenu: event => {\n        event.preventDefault();\n\n        // On the Windows platform, the \"contextmenu\" is triggered after the \"mouseup\" so that's\n        // why the closing menu is here. (#6507#issuecomment-582392301).\n        if (isWindowsOS() && shouldAutoCloseMenu && this.hasSelectedItem()) {\n          this.close(true);\n        }\n      },\n      afterSelection: (row, column, row2, column2, preventScrolling) => {\n        // do not scroll the viewport when mouse clicks on partially visible menu item\n        if (this.hotMenu.view.isMouseDown()) {\n          preventScrolling.value = true;\n        }\n        this.runLocalHooks('afterSelectionChange', this.getSelectedItem());\n      },\n      beforeOnCellMouseUp: event => {\n        if (this.hasSelectedItem()) {\n          shouldAutoCloseMenu = !this.isCommandPassive(this.getSelectedItem());\n          this.executeCommand(event);\n        }\n      },\n      afterOnCellMouseUp: event => {\n        // If the code runs on the other platform than Windows, the \"mouseup\" is triggered\n        // after the \"contextmenu\". So then \"mouseup\" closes the menu. Otherwise, the closing\n        // menu responsibility is forwarded to \"afterOnCellContextMenu\" callback (#6507#issuecomment-582392301).\n        if ((!isWindowsOS() || !isRightClick(event)) && shouldAutoCloseMenu && this.hasSelectedItem()) {\n          // The timeout is necessary only for mobile devices. For desktop, the click event that is fired\n          // right after the mouseup event gets the event element target the same as the mouseup event.\n          // For mobile devices, the click event is triggered with native delay (~300ms), so when the mouseup\n          // event hides the tapped element, the click event grabs the element below. As a result, the filter\n          // by condition menu is closed and immediately open on tapping the \"None\" item.\n          if (isMobileBrowser() || isIpadOS()) {\n            this.hot._registerTimeout(() => this.close(true), 325);\n          } else {\n            this.close(true);\n          }\n        }\n      },\n      afterUnlisten: () => {\n        // Restore menu focus, fix for `this.instance.unlisten();` call in the tableView.js@260 file.\n        // This prevents losing table responsiveness for keyboard events when filter select menu is closed (#6497).\n        if (!this.hasSelectedItem() && this.isOpened()) {\n          this.hotMenu.listen();\n        }\n      }\n    };\n    this.origOutsideClickDeselects = this.hot.getSettings().outsideClickDeselects;\n    this.hot.getSettings().outsideClickDeselects = false;\n    this.hotMenu = new this.hot.constructor(this.container, settings);\n    this.hotMenu.addHook('afterInit', () => this.onAfterInit());\n    this.hotMenu.init();\n    _classPrivateFieldSet(this, _navigator, createMenuNavigator(this.hotMenu));\n    _classPrivateFieldSet(this, _shortcutsCtrl, createKeyboardShortcutsCtrl(this));\n    _classPrivateFieldGet(this, _shortcutsCtrl).listen();\n    this.focus();\n    if (this.isSubMenu()) {\n      this.addLocalHook('afterOpen', () => this.parentMenu.runLocalHooks('afterSubmenuOpen', this));\n    }\n    this.runLocalHooks('afterOpen', this);\n  }\n\n  /**\n   * Close menu.\n   *\n   * @param {boolean} [closeParent=false] If `true` try to close parent menu if exists.\n   */\n  close() {\n    let closeParent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (!this.isOpened()) {\n      return;\n    }\n    if (closeParent && this.isSubMenu()) {\n      this.parentMenu.close();\n    } else {\n      _classPrivateFieldGet(this, _navigator).clear();\n      this.closeAllSubMenus();\n      this.container.style.display = 'none';\n      this.hotMenu.destroy();\n      this.hotMenu = null;\n      this.hot.getSettings().outsideClickDeselects = this.origOutsideClickDeselects;\n      this.runLocalHooks('afterClose');\n      if (this.isSubMenu()) {\n        if (this.hot.getSettings().ariaTags) {\n          const selection = this.parentMenu.hotMenu.getSelectedLast();\n          if (selection) {\n            const cell = this.parentMenu.hotMenu.getCell(selection[0], 0);\n            setAttribute(cell, [A11Y_EXPANDED(false)]);\n          }\n        }\n        this.parentMenu.hotMenu.listen();\n      }\n    }\n  }\n\n  /**\n   * Open sub menu at the provided row index.\n   *\n   * @param {number} row Row index.\n   * @returns {Menu|boolean} Returns created menu or `false` if no one menu was created.\n   */\n  openSubMenu(row) {\n    if (!this.hotMenu) {\n      return false;\n    }\n    const cell = this.hotMenu.getCell(row, 0);\n    this.closeAllSubMenus();\n    if (!cell || !hasSubMenu(cell)) {\n      return false;\n    }\n    const dataItem = this.hotMenu.getSourceDataAtRow(row);\n    const subMenu = new Menu(this.hot, {\n      parent: this,\n      name: dataItem.name,\n      className: this.options.className,\n      keepInViewport: true,\n      container: this.options.container\n    });\n    subMenu.setMenuItems(dataItem.submenu.items);\n    subMenu.open();\n    subMenu.setPosition(cell.getBoundingClientRect());\n    this.hotSubMenus[dataItem.key] = subMenu;\n\n    // Update the accessibility tags on the cell being the base for the submenu.\n    if (this.hot.getSettings().ariaTags) {\n      setAttribute(cell, [A11Y_EXPANDED(true)]);\n    }\n    return subMenu;\n  }\n\n  /**\n   * Close sub menu at row index.\n   *\n   * @param {number} row Row index.\n   */\n  closeSubMenu(row) {\n    const dataItem = this.hotMenu.getSourceDataAtRow(row);\n    const menus = this.hotSubMenus[dataItem.key];\n    if (menus) {\n      menus.destroy();\n      delete this.hotSubMenus[dataItem.key];\n      const cell = this.hotMenu.getCell(row, 0);\n\n      // Update the accessibility tags on the cell being the base for the submenu.\n      if (this.hot.getSettings().ariaTags) {\n        setAttribute(cell, [A11Y_EXPANDED(false)]);\n      }\n    }\n  }\n\n  /**\n   * Close all opened sub menus.\n   */\n  closeAllSubMenus() {\n    arrayEach(this.hotMenu.getData(), (value, row) => this.closeSubMenu(row));\n  }\n\n  /**\n   * Checks if all created and opened sub menus are closed.\n   *\n   * @returns {boolean}\n   */\n  isAllSubMenusClosed() {\n    return Object.keys(this.hotSubMenus).length === 0;\n  }\n\n  /**\n   * Focus the menu so all keyboard shortcuts become active.\n   */\n  focus() {\n    if (this.isOpened()) {\n      this.hotMenu.rootElement.focus({\n        preventScroll: true\n      });\n      this.getKeyboardShortcutsCtrl().listen();\n      this.hotMenu.listen();\n    }\n  }\n\n  /**\n   * Destroy instance.\n   */\n  destroy() {\n    const menuContainerParentElement = this.container.parentNode;\n    this.clearLocalHooks();\n    this.close();\n    this.parentMenu = null;\n    this.eventManager.destroy();\n    if (menuContainerParentElement) {\n      menuContainerParentElement.removeChild(this.container);\n    }\n  }\n\n  /**\n   * Checks if menu was opened.\n   *\n   * @returns {boolean} Returns `true` if menu was opened.\n   */\n  isOpened() {\n    return this.hotMenu !== null;\n  }\n\n  /**\n   * Execute menu command.\n   *\n   * The `executeCommand()` method works only for selected cells.\n   *\n   * When no cells are selected, `executeCommand()` doesn't do anything.\n   *\n   * @param {Event} [event] The mouse event object.\n   */\n  executeCommand(event) {\n    if (!this.isOpened() || !this.hasSelectedItem()) {\n      return;\n    }\n    const selectedItem = this.getSelectedItem();\n    this.runLocalHooks('select', selectedItem, event);\n    if (this.isCommandPassive(selectedItem)) {\n      return;\n    }\n    const selRanges = this.hot.getSelectedRange();\n    const normalizedSelection = selRanges ? normalizeSelection(selRanges) : [];\n    this.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n    if (this.isSubMenu()) {\n      this.parentMenu.runLocalHooks('executeCommand', selectedItem.key, normalizedSelection, event);\n    }\n  }\n\n  /**\n   * Checks if the passed command is passive or not. The command is passive when it's marked as\n   * disabled, the descriptor object contains `isCommand` property set to `false`, command\n   * is a separator, or the item is recognized as submenu. For passive items the menu is not\n   * closed automatically after the user trigger the command through the UI.\n   *\n   * @param {object} commandDescriptor Selected menu item from the menu data source.\n   * @returns {boolean}\n   */\n  isCommandPassive(commandDescriptor) {\n    return commandDescriptor.isCommand === false || isItemSeparator(commandDescriptor) || isItemDisabled(commandDescriptor, this.hot) || isItemSubMenu(commandDescriptor);\n  }\n\n  /**\n   * Set offset menu position for specified area (`above`, `below`, `left` or `right`).\n   *\n   * @param {string} area Specified area name (`above`, `below`, `left` or `right`).\n   * @param {number} offset Offset value.\n   */\n  setOffset(area) {\n    let offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    this.positioner.setOffset(area, offset);\n  }\n\n  /**\n   * Set menu position based on dom event or based on literal object.\n   *\n   * @param {Event|object} coords Event or literal Object with coordinates.\n   */\n  setPosition(coords) {\n    if (this.isSubMenu()) {\n      this.positioner.setParentElement(this.parentMenu.container);\n    }\n    this.positioner.setElement(this.container).updatePosition(coords);\n  }\n\n  /**\n   * Create container/wrapper for handsontable.\n   *\n   * @private\n   * @param {string} [name] Class name.\n   * @returns {HTMLElement}\n   */\n  createContainer() {\n    let name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    const doc = this.options.container.ownerDocument;\n    let className = name;\n    let container;\n    if (className) {\n      if (isFunction(className)) {\n        className = className.call(this.hot);\n        if (className === null || isUndefined(className)) {\n          className = '';\n        } else {\n          className = className.toString();\n        }\n      }\n      className = className.replace(/[^A-z0-9]/g, '_');\n      className = `${this.options.className}Sub_${className}`;\n      container = doc.querySelector(`.${this.options.className}.${className}`);\n    }\n    if (!container) {\n      container = doc.createElement('div');\n      addClass(container, `htMenu ${this.options.className}`);\n      if (className) {\n        addClass(container, className);\n      }\n      this.options.container.appendChild(container);\n    }\n    return container;\n  }\n\n  /**\n   * On after init listener.\n   *\n   * @private\n   */\n  onAfterInit() {\n    const {\n      wtTable\n    } = this.hotMenu.view._wt;\n    const data = this.hotMenu.getSettings().data;\n    const hiderStyle = wtTable.hider.style;\n    const holderStyle = wtTable.holder.style;\n    const currentHiderWidth = parseInt(hiderStyle.width, 10);\n    const realHeight = arrayReduce(data, (accumulator, value) => accumulator + (value.name === SEPARATOR ? 1 : 26), 0);\n\n    // Additional 3px to menu's size because of additional border around its `table.htCore`.\n    holderStyle.width = `${currentHiderWidth + 3}px`;\n    holderStyle.height = `${realHeight + 3}px`;\n    hiderStyle.height = holderStyle.height;\n\n    // Replace the default accessibility tags with the context menu's\n    if (this.hot.getSettings().ariaTags) {\n      setAttribute(this.hotMenu.rootElement, [A11Y_MENU(), A11Y_TABINDEX(-1)]);\n    }\n  }\n\n  /**\n   * Document mouse down listener.\n   *\n   * @private\n   * @param {Event} event The mouse event object.\n   */\n  onDocumentMouseDown(event) {\n    if (!this.isOpened()) {\n      return;\n    }\n\n    // Close menu when clicked element is not belongs to menu itself\n    if (this.options.standalone && this.hotMenu && !isChildOf(event.target, this.hotMenu.rootElement)) {\n      this.close(true);\n\n      // Automatically close menu when clicked element is not belongs to menu or submenu (not necessarily to itself)\n    } else if ((this.isAllSubMenusClosed() || this.isSubMenu()) && !isChildOf(event.target, '.htMenu')) {\n      this.close(true);\n    }\n  }\n\n  /**\n   * Document's contextmenu listener.\n   *\n   * @private\n   * @param {MouseEvent} event The mouse event object.\n   */\n  onDocumentContextMenu(event) {\n    if (!this.isOpened()) {\n      return;\n    }\n    if (hasClass(event.target, 'htCore') && isChildOf(event.target, this.hotMenu.rootElement)) {\n      event.preventDefault();\n    }\n  }\n}\nmixin(Menu, localHooks);", "import \"core-js/modules/es.error.cause.js\";\nfunction _classPrivateMethodInitSpec(obj, privateSet) { _checkPrivateRedeclaration(obj, privateSet); privateSet.add(obj); }\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classPrivateMethodGet(receiver, privateSet, fn) { if (!privateSet.has(receiver)) { throw new TypeError(\"attempted to get private field on non-instance\"); } return fn; }\nimport { BasePlugin } from \"../base/index.mjs\";\nimport Hooks from \"../../pluginHooks.mjs\";\nimport { arrayEach } from \"../../helpers/array.mjs\";\nimport { objectEach } from \"../../helpers/object.mjs\";\nimport { CommandExecutor } from \"./commandExecutor.mjs\";\nimport { ItemsFactory } from \"./itemsFactory.mjs\";\nimport { Menu } from \"./menu/index.mjs\";\nimport { getDocumentOffsetByElement } from \"./utils.mjs\";\nimport { hasClass } from \"../../helpers/dom/element.mjs\";\nimport { ROW_ABOVE, ROW_BELOW, COLUMN_LEFT, COLUMN_RIGHT, REMOVE_ROW, REMOVE_COLUMN, UNDO, REDO, READ_ONLY, ALIGNMENT, SEPARATOR } from \"./predefinedItems/index.mjs\";\nexport const PLUGIN_KEY = 'contextMenu';\nexport const PLUGIN_PRIORITY = 70;\nconst SHORTCUTS_GROUP = PLUGIN_KEY;\nHooks.getSingleton().register('afterContextMenuDefaultOptions');\nHooks.getSingleton().register('beforeContextMenuShow');\nHooks.getSingleton().register('afterContextMenuShow');\nHooks.getSingleton().register('afterContextMenuHide');\nHooks.getSingleton().register('afterContextMenuExecute');\n\n/* eslint-disable jsdoc/require-description-complete-sentence */\n/**\n * @class ContextMenu\n * @description\n * This plugin creates the Handsontable Context Menu. It allows to create a new row or column at any place in the\n * grid among [other features](@/guides/accessories-and-menus/context-menu.md#context-menu-with-specific-options).\n * Possible values:\n * * `true` (to enable default options),\n * * `false` (to disable completely)\n * * `{ uiContainer: containerDomElement }` (to declare a container for all of the Context Menu's dom elements to be placed in).\n * * An array of [the available strings](@/guides/accessories-and-menus/context-menu.md#context-menu-with-specific-options)\n *\n * See [the context menu demo](@/guides/accessories-and-menus/context-menu.md) for examples.\n *\n * @example\n * ```js\n * // as a boolean\n * contextMenu: true\n * // as a array\n * contextMenu: ['row_above', 'row_below', '---------', 'undo', 'redo']\n * ```\n *\n * @plugin ContextMenu\n */\nvar _onAfterOnCellContextMenu = /*#__PURE__*/new WeakSet();\nvar _onMenuBeforeOpen = /*#__PURE__*/new WeakSet();\nvar _onMenuAfterOpen = /*#__PURE__*/new WeakSet();\nvar _onMenuAfterClose = /*#__PURE__*/new WeakSet();\nexport class ContextMenu extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    /**\n     * On menu after close listener.\n     */\n    _classPrivateMethodInitSpec(this, _onMenuAfterClose);\n    /**\n     * On menu after open listener.\n     */\n    _classPrivateMethodInitSpec(this, _onMenuAfterOpen);\n    /**\n     * On menu before open listener.\n     */\n    _classPrivateMethodInitSpec(this, _onMenuBeforeOpen);\n    /**\n     * On contextmenu listener.\n     *\n     * @param {Event} event The mouse event object.\n     */\n    _classPrivateMethodInitSpec(this, _onAfterOnCellContextMenu);\n    /**\n     * Instance of {@link CommandExecutor}.\n     *\n     * @private\n     * @type {CommandExecutor}\n     */\n    _defineProperty(this, \"commandExecutor\", new CommandExecutor(this.hot));\n    /**\n     * Instance of {@link ItemsFactory}.\n     *\n     * @private\n     * @type {ItemsFactory}\n     */\n    _defineProperty(this, \"itemsFactory\", null);\n    /**\n     * Instance of {@link Menu}.\n     *\n     * @private\n     * @type {Menu}\n     */\n    _defineProperty(this, \"menu\", null);\n  }\n  static get PLUGIN_KEY() {\n    return PLUGIN_KEY;\n  }\n  static get PLUGIN_PRIORITY() {\n    return PLUGIN_PRIORITY;\n  }\n  static get PLUGIN_DEPS() {\n    return ['plugin:AutoColumnSize'];\n  }\n\n  /**\n   * Context menu default items order when `contextMenu` options is set as `true`.\n   *\n   * @returns {string[]}\n   */\n  static get DEFAULT_ITEMS() {\n    return [ROW_ABOVE, ROW_BELOW, SEPARATOR, COLUMN_LEFT, COLUMN_RIGHT, SEPARATOR, REMOVE_ROW, REMOVE_COLUMN, SEPARATOR, UNDO, REDO, SEPARATOR, READ_ONLY, SEPARATOR, ALIGNMENT];\n  }\n  /**\n   * Checks if the plugin is enabled in the handsontable settings. This method is executed in {@link Hooks#beforeInit}\n   * hook and if it returns `true` then the {@link ContextMenu#enablePlugin} method is called.\n   *\n   * @returns {boolean}\n   */\n  isEnabled() {\n    return !!this.hot.getSettings()[PLUGIN_KEY];\n  }\n\n  /**\n   * Enables the plugin functionality for this Handsontable instance.\n   */\n  enablePlugin() {\n    var _this = this;\n    if (this.enabled) {\n      return;\n    }\n    const settings = this.hot.getSettings()[PLUGIN_KEY];\n    if (typeof settings.callback === 'function') {\n      this.commandExecutor.setCommonCallback(settings.callback);\n    }\n    this.menu = new Menu(this.hot, {\n      className: 'htContextMenu',\n      keepInViewport: true,\n      container: settings.uiContainer || this.hot.rootDocument.body\n    });\n    this.menu.addLocalHook('beforeOpen', () => _classPrivateMethodGet(this, _onMenuBeforeOpen, _onMenuBeforeOpen2).call(this));\n    this.menu.addLocalHook('afterOpen', () => _classPrivateMethodGet(this, _onMenuAfterOpen, _onMenuAfterOpen2).call(this));\n    this.menu.addLocalHook('afterClose', () => _classPrivateMethodGet(this, _onMenuAfterClose, _onMenuAfterClose2).call(this));\n    this.menu.addLocalHook('executeCommand', function () {\n      for (var _len = arguments.length, params = new Array(_len), _key = 0; _key < _len; _key++) {\n        params[_key] = arguments[_key];\n      }\n      return _this.executeCommand.call(_this, ...params);\n    });\n    this.addHook('afterOnCellContextMenu', event => _classPrivateMethodGet(this, _onAfterOnCellContextMenu, _onAfterOnCellContextMenu2).call(this, event));\n    this.registerShortcuts();\n    super.enablePlugin();\n  }\n\n  /**\n   * Updates the plugin's state.\n   *\n   * This method is executed when [`updateSettings()`](@/api/core.md#updatesettings) is invoked with any of the following configuration options:\n   *  - [`contextMenu`](@/api/options.md#contextmenu)\n   */\n  updatePlugin() {\n    this.disablePlugin();\n    this.enablePlugin();\n    super.updatePlugin();\n  }\n\n  /**\n   * Disables the plugin functionality for this Handsontable instance.\n   */\n  disablePlugin() {\n    this.close();\n    if (this.menu) {\n      this.menu.destroy();\n      this.menu = null;\n    }\n    this.unregisterShortcuts();\n    super.disablePlugin();\n  }\n\n  /**\n   * Register shortcuts responsible for toggling context menu.\n   *\n   * @private\n   */\n  registerShortcuts() {\n    this.hot.getShortcutManager().getContext('grid').addShortcut({\n      keys: [['Control/Meta', 'Shift', 'Backslash'], ['Shift', 'F10']],\n      callback: () => {\n        const {\n          highlight\n        } = this.hot.getSelectedRangeLast();\n        this.hot.scrollToFocusedCell();\n        const rect = this.hot.getCell(highlight.row, highlight.col, true).getBoundingClientRect();\n        const offset = getDocumentOffsetByElement(this.menu.container, this.hot.rootDocument);\n        this.open({\n          left: rect.left + offset.left,\n          top: rect.top + offset.top - 1 + rect.height\n        }, {\n          left: rect.width,\n          above: -rect.height\n        });\n        // Make sure the first item is selected (role=menuitem). Otherwise, screen readers\n        // will block the Esc key for the whole menu.\n        this.menu.getNavigator().toFirstItem();\n      },\n      runOnlyIf: () => {\n        var _this$hot$getSelected;\n        const highlight = (_this$hot$getSelected = this.hot.getSelectedRangeLast()) === null || _this$hot$getSelected === void 0 ? void 0 : _this$hot$getSelected.highlight;\n        return highlight && this.hot.selection.isCellVisible(highlight) && !this.menu.isOpened();\n      },\n      group: SHORTCUTS_GROUP\n    });\n  }\n\n  /**\n   * Unregister shortcuts responsible for toggling context menu.\n   *\n   * @private\n   */\n  unregisterShortcuts() {\n    this.hot.getShortcutManager().getContext('grid').removeShortcutsByGroup(SHORTCUTS_GROUP);\n  }\n\n  /**\n   * Opens menu and re-position it based on the passed coordinates.\n   *\n   * @param {{ top: number, left: number }|Event} position An object with `top` and `left` properties\n   * which contains coordinates relative to the browsers viewport (without included scroll offsets).\n   * Or if the native event is passed the menu will be positioned based on the `pageX` and `pageY`\n   * coordinates.\n   * @param {{ above: number, below: number, left: number, right: number }} offset An object allows applying\n   * the offset to the menu position.\n   * @fires Hooks#beforeContextMenuShow\n   * @fires Hooks#afterContextMenuShow\n   */\n  open(position) {\n    var _this$menu;\n    let offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      above: 0,\n      below: 0,\n      left: 0,\n      right: 0\n    };\n    if ((_this$menu = this.menu) !== null && _this$menu !== void 0 && _this$menu.isOpened()) {\n      return;\n    }\n    this.prepareMenuItems();\n    this.menu.open();\n    objectEach(offset, (value, key) => {\n      this.menu.setOffset(key, value);\n    });\n    this.menu.setPosition(position);\n  }\n\n  /**\n   * Closes the menu.\n   */\n  close() {\n    var _this$menu2;\n    (_this$menu2 = this.menu) === null || _this$menu2 === void 0 || _this$menu2.close();\n    this.itemsFactory = null;\n  }\n\n  /**\n   * Execute context menu command.\n   *\n   * The `executeCommand()` method works only for selected cells.\n   *\n   * When no cells are selected, `executeCommand()` doesn't do anything.\n   *\n   * You can execute all predefined commands:\n   *  * `'row_above'` - Insert row above\n   *  * `'row_below'` - Insert row below\n   *  * `'col_left'` - Insert column left\n   *  * `'col_right'` - Insert column right\n   *  * `'clear_column'` - Clear selected column\n   *  * `'remove_row'` - Remove row\n   *  * `'remove_col'` - Remove column\n   *  * `'undo'` - Undo last action\n   *  * `'redo'` - Redo last action\n   *  * `'make_read_only'` - Make cell read only\n   *  * `'alignment:left'` - Alignment to the left\n   *  * `'alignment:top'` - Alignment to the top\n   *  * `'alignment:right'` - Alignment to the right\n   *  * `'alignment:bottom'` - Alignment to the bottom\n   *  * `'alignment:middle'` - Alignment to the middle\n   *  * `'alignment:center'` - Alignment to the center (justify).\n   *\n   * Or you can execute command registered in settings where `key` is your command name.\n   *\n   * @param {string} commandName The command name to be executed.\n   * @param {*} params Additional parameters passed to command executor module.\n   */\n  executeCommand(commandName) {\n    if (this.itemsFactory === null) {\n      this.prepareMenuItems();\n    }\n    for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      params[_key2 - 1] = arguments[_key2];\n    }\n    this.commandExecutor.execute(commandName, ...params);\n  }\n\n  /**\n   * Prepares available contextMenu's items list and registers them in commandExecutor.\n   *\n   * @private\n   * @fires Hooks#afterContextMenuDefaultOptions\n   * @fires Hooks#beforeContextMenuSetItems\n   */\n  prepareMenuItems() {\n    this.itemsFactory = new ItemsFactory(this.hot, ContextMenu.DEFAULT_ITEMS);\n    const settings = this.hot.getSettings()[PLUGIN_KEY];\n    const predefinedItems = {\n      items: this.itemsFactory.getItems(settings)\n    };\n    this.hot.runHooks('afterContextMenuDefaultOptions', predefinedItems);\n    this.itemsFactory.setPredefinedItems(predefinedItems.items);\n    const menuItems = this.itemsFactory.getItems(settings);\n    this.hot.runHooks('beforeContextMenuSetItems', menuItems);\n    this.menu.setMenuItems(menuItems);\n\n    // Register all commands. Predefined and added by user or by plugins\n    arrayEach(menuItems, command => this.commandExecutor.registerCommand(command.key, command));\n  }\n  /**\n   * Destroys the plugin instance.\n   */\n  destroy() {\n    this.close();\n    if (this.menu) {\n      this.menu.destroy();\n    }\n    super.destroy();\n  }\n}\nfunction _onAfterOnCellContextMenu2(event) {\n  const settings = this.hot.getSettings();\n  const showRowHeaders = settings.rowHeaders;\n  const showColHeaders = settings.colHeaders;\n\n  /**\n   * @private\n   * @param {HTMLElement} element The element to validate.\n   * @returns {boolean}\n   */\n  function isValidElement(element) {\n    return element.nodeName === 'TD' || element.parentNode.nodeName === 'TD';\n  }\n  const element = event.target;\n  this.close();\n  if (hasClass(element, 'handsontableInput')) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  if (!(showRowHeaders || showColHeaders)) {\n    if (!isValidElement(element) && !(hasClass(element, 'current') && hasClass(element, 'wtBorder'))) {\n      return;\n    }\n  }\n  const offset = getDocumentOffsetByElement(this.menu.container, this.hot.rootDocument);\n  this.open({\n    top: event.clientY + offset.top,\n    left: event.clientX + offset.left\n  });\n}\nfunction _onMenuBeforeOpen2() {\n  this.hot.runHooks('beforeContextMenuShow', this);\n}\nfunction _onMenuAfterOpen2() {\n  this.hot.runHooks('afterContextMenuShow', this);\n}\nfunction _onMenuAfterClose2() {\n  this.hot.listen();\n  this.hot.runHooks('afterContextMenuHide', this);\n}\nContextMenu.SEPARATOR = {\n  name: SEPARATOR\n};"],
  "mappings": "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",
  "names": ["hasItem", "_defineProperty", "_toPropertyKey", "_toPrimitive", "KEY", "hasClass", "KEY", "KEY", "KEY", "KEY", "KEY", "KEY", "KEY", "KEY", "KEY", "KEY", "KEY", "KEY", "_defineProperty", "_toPropertyKey", "_toPrimitive", "_defineProperty", "_toPropertyKey", "_toPrimitive", "_classPrivateFieldInitSpec", "_checkPrivateRedeclaration", "_classPrivateFieldGet", "_classExtractFieldDescriptor", "_classApplyDescriptorGet", "_classPrivateFieldInitSpec", "_checkPrivateRedeclaration", "_defineProperty", "_toPropertyKey", "_toPrimitive", "_classPrivateFieldSet", "_classExtractFieldDescriptor", "_classApplyDescriptorSet", "_classPrivateFieldGet", "_classApplyDescriptorGet", "KEY", "_classPrivateMethodInitSpec", "_checkPrivateRedeclaration", "_defineProperty", "_toPropertyKey", "_toPrimitive", "_classPrivateMethodGet", "PLUGIN_KEY", "SHORTCUTS_GROUP", "KEY", "predefinedItems", "element"]
}
