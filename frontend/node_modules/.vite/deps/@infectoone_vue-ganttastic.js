import {
  Fragment,
  Teleport,
  Transition,
  TransitionGroup,
  computed,
  createBaseVNode,
  createBlock,
  createCommentVNode,
  createElementBlock,
  createTextVNode,
  createVNode,
  defineComponent,
  getCurrentInstance,
  getCurrentScope,
  inject,
  mergeProps,
  nextTick,
  normalizeClass,
  normalizeStyle,
  onMounted,
  onScopeDispose,
  openBlock,
  provide,
  ref,
  renderList,
  renderSlot,
  toDisplayString,
  toRefs,
  unref,
  useSlots,
  watch,
  withCtx,
  withModifiers
} from "./chunk-PBWN42R4.js";
import {
  __commonJS,
  __toESM
} from "./chunk-AUZ3RYOM.js";

// node_modules/dayjs/dayjs.min.js
var require_dayjs_min = __commonJS({
  "node_modules/dayjs/dayjs.min.js"(exports, module) {
    !function(t, e) {
      "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).dayjs = e();
    }(exports, function() {
      "use strict";
      var t = 1e3, e = 6e4, n = 36e5, r = "millisecond", i = "second", s = "minute", u = "hour", a = "day", o = "week", c = "month", f = "quarter", h = "year", d = "date", l = "Invalid Date", $ = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/, y = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g, M = { name: "en", weekdays: "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), months: "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), ordinal: function(t2) {
        var e2 = ["th", "st", "nd", "rd"], n2 = t2 % 100;
        return "[" + t2 + (e2[(n2 - 20) % 10] || e2[n2] || e2[0]) + "]";
      } }, m = function(t2, e2, n2) {
        var r2 = String(t2);
        return !r2 || r2.length >= e2 ? t2 : "" + Array(e2 + 1 - r2.length).join(n2) + t2;
      }, v = { s: m, z: function(t2) {
        var e2 = -t2.utcOffset(), n2 = Math.abs(e2), r2 = Math.floor(n2 / 60), i2 = n2 % 60;
        return (e2 <= 0 ? "+" : "-") + m(r2, 2, "0") + ":" + m(i2, 2, "0");
      }, m: function t2(e2, n2) {
        if (e2.date() < n2.date())
          return -t2(n2, e2);
        var r2 = 12 * (n2.year() - e2.year()) + (n2.month() - e2.month()), i2 = e2.clone().add(r2, c), s2 = n2 - i2 < 0, u2 = e2.clone().add(r2 + (s2 ? -1 : 1), c);
        return +(-(r2 + (n2 - i2) / (s2 ? i2 - u2 : u2 - i2)) || 0);
      }, a: function(t2) {
        return t2 < 0 ? Math.ceil(t2) || 0 : Math.floor(t2);
      }, p: function(t2) {
        return { M: c, y: h, w: o, d: a, D: d, h: u, m: s, s: i, ms: r, Q: f }[t2] || String(t2 || "").toLowerCase().replace(/s$/, "");
      }, u: function(t2) {
        return void 0 === t2;
      } }, g = "en", D = {};
      D[g] = M;
      var p = "$isDayjsObject", S = function(t2) {
        return t2 instanceof _ || !(!t2 || !t2[p]);
      }, w = function t2(e2, n2, r2) {
        var i2;
        if (!e2)
          return g;
        if ("string" == typeof e2) {
          var s2 = e2.toLowerCase();
          D[s2] && (i2 = s2), n2 && (D[s2] = n2, i2 = s2);
          var u2 = e2.split("-");
          if (!i2 && u2.length > 1)
            return t2(u2[0]);
        } else {
          var a2 = e2.name;
          D[a2] = e2, i2 = a2;
        }
        return !r2 && i2 && (g = i2), i2 || !r2 && g;
      }, O = function(t2, e2) {
        if (S(t2))
          return t2.clone();
        var n2 = "object" == typeof e2 ? e2 : {};
        return n2.date = t2, n2.args = arguments, new _(n2);
      }, b = v;
      b.l = w, b.i = S, b.w = function(t2, e2) {
        return O(t2, { locale: e2.$L, utc: e2.$u, x: e2.$x, $offset: e2.$offset });
      };
      var _ = function() {
        function M2(t2) {
          this.$L = w(t2.locale, null, true), this.parse(t2), this.$x = this.$x || t2.x || {}, this[p] = true;
        }
        var m2 = M2.prototype;
        return m2.parse = function(t2) {
          this.$d = function(t3) {
            var e2 = t3.date, n2 = t3.utc;
            if (null === e2)
              return /* @__PURE__ */ new Date(NaN);
            if (b.u(e2))
              return /* @__PURE__ */ new Date();
            if (e2 instanceof Date)
              return new Date(e2);
            if ("string" == typeof e2 && !/Z$/i.test(e2)) {
              var r2 = e2.match($);
              if (r2) {
                var i2 = r2[2] - 1 || 0, s2 = (r2[7] || "0").substring(0, 3);
                return n2 ? new Date(Date.UTC(r2[1], i2, r2[3] || 1, r2[4] || 0, r2[5] || 0, r2[6] || 0, s2)) : new Date(r2[1], i2, r2[3] || 1, r2[4] || 0, r2[5] || 0, r2[6] || 0, s2);
              }
            }
            return new Date(e2);
          }(t2), this.init();
        }, m2.init = function() {
          var t2 = this.$d;
          this.$y = t2.getFullYear(), this.$M = t2.getMonth(), this.$D = t2.getDate(), this.$W = t2.getDay(), this.$H = t2.getHours(), this.$m = t2.getMinutes(), this.$s = t2.getSeconds(), this.$ms = t2.getMilliseconds();
        }, m2.$utils = function() {
          return b;
        }, m2.isValid = function() {
          return !(this.$d.toString() === l);
        }, m2.isSame = function(t2, e2) {
          var n2 = O(t2);
          return this.startOf(e2) <= n2 && n2 <= this.endOf(e2);
        }, m2.isAfter = function(t2, e2) {
          return O(t2) < this.startOf(e2);
        }, m2.isBefore = function(t2, e2) {
          return this.endOf(e2) < O(t2);
        }, m2.$g = function(t2, e2, n2) {
          return b.u(t2) ? this[e2] : this.set(n2, t2);
        }, m2.unix = function() {
          return Math.floor(this.valueOf() / 1e3);
        }, m2.valueOf = function() {
          return this.$d.getTime();
        }, m2.startOf = function(t2, e2) {
          var n2 = this, r2 = !!b.u(e2) || e2, f2 = b.p(t2), l2 = function(t3, e3) {
            var i2 = b.w(n2.$u ? Date.UTC(n2.$y, e3, t3) : new Date(n2.$y, e3, t3), n2);
            return r2 ? i2 : i2.endOf(a);
          }, $2 = function(t3, e3) {
            return b.w(n2.toDate()[t3].apply(n2.toDate("s"), (r2 ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(e3)), n2);
          }, y2 = this.$W, M3 = this.$M, m3 = this.$D, v2 = "set" + (this.$u ? "UTC" : "");
          switch (f2) {
            case h:
              return r2 ? l2(1, 0) : l2(31, 11);
            case c:
              return r2 ? l2(1, M3) : l2(0, M3 + 1);
            case o:
              var g2 = this.$locale().weekStart || 0, D2 = (y2 < g2 ? y2 + 7 : y2) - g2;
              return l2(r2 ? m3 - D2 : m3 + (6 - D2), M3);
            case a:
            case d:
              return $2(v2 + "Hours", 0);
            case u:
              return $2(v2 + "Minutes", 1);
            case s:
              return $2(v2 + "Seconds", 2);
            case i:
              return $2(v2 + "Milliseconds", 3);
            default:
              return this.clone();
          }
        }, m2.endOf = function(t2) {
          return this.startOf(t2, false);
        }, m2.$set = function(t2, e2) {
          var n2, o2 = b.p(t2), f2 = "set" + (this.$u ? "UTC" : ""), l2 = (n2 = {}, n2[a] = f2 + "Date", n2[d] = f2 + "Date", n2[c] = f2 + "Month", n2[h] = f2 + "FullYear", n2[u] = f2 + "Hours", n2[s] = f2 + "Minutes", n2[i] = f2 + "Seconds", n2[r] = f2 + "Milliseconds", n2)[o2], $2 = o2 === a ? this.$D + (e2 - this.$W) : e2;
          if (o2 === c || o2 === h) {
            var y2 = this.clone().set(d, 1);
            y2.$d[l2]($2), y2.init(), this.$d = y2.set(d, Math.min(this.$D, y2.daysInMonth())).$d;
          } else
            l2 && this.$d[l2]($2);
          return this.init(), this;
        }, m2.set = function(t2, e2) {
          return this.clone().$set(t2, e2);
        }, m2.get = function(t2) {
          return this[b.p(t2)]();
        }, m2.add = function(r2, f2) {
          var d2, l2 = this;
          r2 = Number(r2);
          var $2 = b.p(f2), y2 = function(t2) {
            var e2 = O(l2);
            return b.w(e2.date(e2.date() + Math.round(t2 * r2)), l2);
          };
          if ($2 === c)
            return this.set(c, this.$M + r2);
          if ($2 === h)
            return this.set(h, this.$y + r2);
          if ($2 === a)
            return y2(1);
          if ($2 === o)
            return y2(7);
          var M3 = (d2 = {}, d2[s] = e, d2[u] = n, d2[i] = t, d2)[$2] || 1, m3 = this.$d.getTime() + r2 * M3;
          return b.w(m3, this);
        }, m2.subtract = function(t2, e2) {
          return this.add(-1 * t2, e2);
        }, m2.format = function(t2) {
          var e2 = this, n2 = this.$locale();
          if (!this.isValid())
            return n2.invalidDate || l;
          var r2 = t2 || "YYYY-MM-DDTHH:mm:ssZ", i2 = b.z(this), s2 = this.$H, u2 = this.$m, a2 = this.$M, o2 = n2.weekdays, c2 = n2.months, f2 = n2.meridiem, h2 = function(t3, n3, i3, s3) {
            return t3 && (t3[n3] || t3(e2, r2)) || i3[n3].slice(0, s3);
          }, d2 = function(t3) {
            return b.s(s2 % 12 || 12, t3, "0");
          }, $2 = f2 || function(t3, e3, n3) {
            var r3 = t3 < 12 ? "AM" : "PM";
            return n3 ? r3.toLowerCase() : r3;
          };
          return r2.replace(y, function(t3, r3) {
            return r3 || function(t4) {
              switch (t4) {
                case "YY":
                  return String(e2.$y).slice(-2);
                case "YYYY":
                  return b.s(e2.$y, 4, "0");
                case "M":
                  return a2 + 1;
                case "MM":
                  return b.s(a2 + 1, 2, "0");
                case "MMM":
                  return h2(n2.monthsShort, a2, c2, 3);
                case "MMMM":
                  return h2(c2, a2);
                case "D":
                  return e2.$D;
                case "DD":
                  return b.s(e2.$D, 2, "0");
                case "d":
                  return String(e2.$W);
                case "dd":
                  return h2(n2.weekdaysMin, e2.$W, o2, 2);
                case "ddd":
                  return h2(n2.weekdaysShort, e2.$W, o2, 3);
                case "dddd":
                  return o2[e2.$W];
                case "H":
                  return String(s2);
                case "HH":
                  return b.s(s2, 2, "0");
                case "h":
                  return d2(1);
                case "hh":
                  return d2(2);
                case "a":
                  return $2(s2, u2, true);
                case "A":
                  return $2(s2, u2, false);
                case "m":
                  return String(u2);
                case "mm":
                  return b.s(u2, 2, "0");
                case "s":
                  return String(e2.$s);
                case "ss":
                  return b.s(e2.$s, 2, "0");
                case "SSS":
                  return b.s(e2.$ms, 3, "0");
                case "Z":
                  return i2;
              }
              return null;
            }(t3) || i2.replace(":", "");
          });
        }, m2.utcOffset = function() {
          return 15 * -Math.round(this.$d.getTimezoneOffset() / 15);
        }, m2.diff = function(r2, d2, l2) {
          var $2, y2 = this, M3 = b.p(d2), m3 = O(r2), v2 = (m3.utcOffset() - this.utcOffset()) * e, g2 = this - m3, D2 = function() {
            return b.m(y2, m3);
          };
          switch (M3) {
            case h:
              $2 = D2() / 12;
              break;
            case c:
              $2 = D2();
              break;
            case f:
              $2 = D2() / 3;
              break;
            case o:
              $2 = (g2 - v2) / 6048e5;
              break;
            case a:
              $2 = (g2 - v2) / 864e5;
              break;
            case u:
              $2 = g2 / n;
              break;
            case s:
              $2 = g2 / e;
              break;
            case i:
              $2 = g2 / t;
              break;
            default:
              $2 = g2;
          }
          return l2 ? $2 : b.a($2);
        }, m2.daysInMonth = function() {
          return this.endOf(c).$D;
        }, m2.$locale = function() {
          return D[this.$L];
        }, m2.locale = function(t2, e2) {
          if (!t2)
            return this.$L;
          var n2 = this.clone(), r2 = w(t2, e2, true);
          return r2 && (n2.$L = r2), n2;
        }, m2.clone = function() {
          return b.w(this.$d, this);
        }, m2.toDate = function() {
          return new Date(this.valueOf());
        }, m2.toJSON = function() {
          return this.isValid() ? this.toISOString() : null;
        }, m2.toISOString = function() {
          return this.$d.toISOString();
        }, m2.toString = function() {
          return this.$d.toUTCString();
        }, M2;
      }(), k = _.prototype;
      return O.prototype = k, [["$ms", r], ["$s", i], ["$m", s], ["$H", u], ["$W", a], ["$M", c], ["$y", h], ["$D", d]].forEach(function(t2) {
        k[t2[1]] = function(e2) {
          return this.$g(e2, t2[0], t2[1]);
        };
      }), O.extend = function(t2, e2) {
        return t2.$i || (t2(e2, _, O), t2.$i = true), O;
      }, O.locale = w, O.isDayjs = S, O.unix = function(t2) {
        return O(1e3 * t2);
      }, O.en = D[g], O.Ls = D, O.p = {}, O;
    });
  }
});

// node_modules/@infectoone/vue-ganttastic/lib/vue-ganttastic.js
var import_dayjs = __toESM(require_dayjs_min());
var ct = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
var Lt = { exports: {} };
(function(t, s) {
  (function(n, o) {
    t.exports = o();
  })(ct, function() {
    return function(n, o) {
      o.prototype.isSameOrBefore = function(y, u) {
        return this.isSame(y, u) || this.isBefore(y, u);
      };
    };
  });
})(Lt);
var ie = Lt.exports;
var $t = { exports: {} };
(function(t, s) {
  (function(n, o) {
    t.exports = o();
  })(ct, function() {
    return function(n, o) {
      o.prototype.isSameOrAfter = function(y, u) {
        return this.isSame(y, u) || this.isAfter(y, u);
      };
    };
  });
})($t);
var se = $t.exports;
var Gt = { exports: {} };
(function(t, s) {
  (function(n, o) {
    t.exports = o();
  })(ct, function() {
    return function(n, o, y) {
      o.prototype.isBetween = function(u, f, g, c) {
        var a = y(u), e = y(f), i = (c = c || "()")[0] === "(", l = c[1] === ")";
        return (i ? this.isAfter(a, g) : !this.isBefore(a, g)) && (l ? this.isBefore(e, g) : !this.isAfter(e, g)) || (i ? this.isBefore(a, g) : !this.isAfter(a, g)) && (l ? this.isAfter(e, g) : !this.isBefore(e, g));
      };
    };
  });
})(Gt);
var le = Gt.exports;
var It = { exports: {} };
(function(t, s) {
  (function(n, o) {
    t.exports = o();
  })(ct, function() {
    var n = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, o = /(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g, y = /\d\d/, u = /\d\d?/, f = /\d*[^-_:/,()\s\d]+/, g = {}, c = function(v) {
      return (v = +v) + (v > 68 ? 1900 : 2e3);
    }, a = function(v) {
      return function(d) {
        this[v] = +d;
      };
    }, e = [/[+-]\d\d:?(\d\d)?|Z/, function(v) {
      (this.zone || (this.zone = {})).offset = function(d) {
        if (!d || d === "Z")
          return 0;
        var x = d.match(/([+-]|\d\d)/g), m = 60 * x[1] + (+x[2] || 0);
        return m === 0 ? 0 : x[0] === "+" ? -m : m;
      }(v);
    }], i = function(v) {
      var d = g[v];
      return d && (d.indexOf ? d : d.s.concat(d.f));
    }, l = function(v, d) {
      var x, m = g.meridiem;
      if (m) {
        for (var h = 1; h <= 24; h += 1)
          if (v.indexOf(m(h, 0, d)) > -1) {
            x = h > 12;
            break;
          }
      } else
        x = v === (d ? "pm" : "PM");
      return x;
    }, w = { A: [f, function(v) {
      this.afternoon = l(v, false);
    }], a: [f, function(v) {
      this.afternoon = l(v, true);
    }], S: [/\d/, function(v) {
      this.milliseconds = 100 * +v;
    }], SS: [y, function(v) {
      this.milliseconds = 10 * +v;
    }], SSS: [/\d{3}/, function(v) {
      this.milliseconds = +v;
    }], s: [u, a("seconds")], ss: [u, a("seconds")], m: [u, a("minutes")], mm: [u, a("minutes")], H: [u, a("hours")], h: [u, a("hours")], HH: [u, a("hours")], hh: [u, a("hours")], D: [u, a("day")], DD: [y, a("day")], Do: [f, function(v) {
      var d = g.ordinal, x = v.match(/\d+/);
      if (this.day = x[0], d)
        for (var m = 1; m <= 31; m += 1)
          d(m).replace(/\[|\]/g, "") === v && (this.day = m);
    }], M: [u, a("month")], MM: [y, a("month")], MMM: [f, function(v) {
      var d = i("months"), x = (i("monthsShort") || d.map(function(m) {
        return m.slice(0, 3);
      })).indexOf(v) + 1;
      if (x < 1)
        throw new Error();
      this.month = x % 12 || x;
    }], MMMM: [f, function(v) {
      var d = i("months").indexOf(v) + 1;
      if (d < 1)
        throw new Error();
      this.month = d % 12 || d;
    }], Y: [/[+-]?\d+/, a("year")], YY: [y, function(v) {
      this.year = c(v);
    }], YYYY: [/\d{4}/, a("year")], Z: e, ZZ: e };
    function O(v) {
      var d, x;
      d = v, x = g && g.formats;
      for (var m = (v = d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g, function(E, D, S) {
        var k = S && S.toUpperCase();
        return D || x[S] || n[S] || x[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g, function(T, G, R) {
          return G || R.slice(1);
        });
      })).match(o), h = m.length, B = 0; B < h; B += 1) {
        var r = m[B], b = w[r], p = b && b[0], _ = b && b[1];
        m[B] = _ ? { regex: p, parser: _ } : r.replace(/^\[|\]$/g, "");
      }
      return function(E) {
        for (var D = {}, S = 0, k = 0; S < h; S += 1) {
          var T = m[S];
          if (typeof T == "string")
            k += T.length;
          else {
            var G = T.regex, R = T.parser, j = E.slice(k), z = G.exec(j)[0];
            R.call(D, z), E = E.replace(z, "");
          }
        }
        return function(F) {
          var Y = F.afternoon;
          if (Y !== void 0) {
            var V = F.hours;
            Y ? V < 12 && (F.hours += 12) : V === 12 && (F.hours = 0), delete F.afternoon;
          }
        }(D), D;
      };
    }
    return function(v, d, x) {
      x.p.customParseFormat = true, v && v.parseTwoDigitYear && (c = v.parseTwoDigitYear);
      var m = d.prototype, h = m.parse;
      m.parse = function(B) {
        var r = B.date, b = B.utc, p = B.args;
        this.$u = b;
        var _ = p[1];
        if (typeof _ == "string") {
          var E = p[2] === true, D = p[3] === true, S = E || D, k = p[2];
          D && (k = p[2]), g = this.$locale(), !E && k && (g = x.Ls[k]), this.$d = function(j, z, F) {
            try {
              if (["x", "X"].indexOf(z) > -1)
                return new Date((z === "X" ? 1e3 : 1) * j);
              var Y = O(z)(j), V = Y.year, nt = Y.month, zt = Y.day, Vt = Y.hours, qt = Y.minutes, Wt = Y.seconds, Kt = Y.milliseconds, xt = Y.zone, dt = /* @__PURE__ */ new Date(), ft = zt || (V || nt ? 1 : dt.getDate()), gt = V || dt.getFullYear(), at = 0;
              V && !nt || (at = nt > 0 ? nt - 1 : dt.getMonth());
              var ht = Vt || 0, pt = qt || 0, mt = Wt || 0, vt = Kt || 0;
              return xt ? new Date(Date.UTC(gt, at, ft, ht, pt, mt, vt + 60 * xt.offset * 1e3)) : F ? new Date(Date.UTC(gt, at, ft, ht, pt, mt, vt)) : new Date(gt, at, ft, ht, pt, mt, vt);
            } catch {
              return /* @__PURE__ */ new Date("");
            }
          }(r, _, b), this.init(), k && k !== true && (this.$L = this.locale(k).$L), S && r != this.format(_) && (this.$d = /* @__PURE__ */ new Date("")), g = {};
        } else if (_ instanceof Array)
          for (var T = _.length, G = 1; G <= T; G += 1) {
            p[1] = _[G - 1];
            var R = x.apply(this, p);
            if (R.isValid()) {
              this.$d = R.$d, this.$L = R.$L, this.init();
              break;
            }
            G === T && (this.$d = /* @__PURE__ */ new Date(""));
          }
        else
          h.call(this, B);
      };
    };
  });
})(It);
var ue = It.exports;
var Rt = Symbol("CHART_ROWS_KEY");
var Yt = Symbol("CONFIG_KEY");
var At = Symbol("EMIT_BAR_EVENT_KEY");
var Ht = Symbol("BAR_CONTAINER_KEY");
function A() {
  const t = inject(Yt);
  if (!t)
    throw Error("Failed to inject config!");
  return t;
}
var Pt = "YYYY-MM-DD HH:mm";
function tt(t = A()) {
  const { chartStart: s, chartEnd: n, barStart: o, barEnd: y, dateFormat: u } = t, f = computed(() => c(s.value)), g = computed(() => c(n.value)), c = (e, i) => {
    let l;
    if (i !== void 0 && typeof e != "string" && !(e instanceof Date) && (l = i === "start" ? e[o.value] : e[y.value]), typeof e == "string")
      l = e;
    else if (e instanceof Date)
      return (0, import_dayjs.default)(e);
    const w = u.value || Pt;
    return (0, import_dayjs.default)(l, w, true);
  };
  return {
    chartStartDayjs: f,
    chartEndDayjs: g,
    toDayjs: c,
    format: (e, i) => i === false ? e instanceof Date ? e : (0, import_dayjs.default)(e).toDate() : (typeof e == "string" || e instanceof Date ? c(e) : e).format(i)
  };
}
function Ut() {
  const { precision: t } = A(), { chartStartDayjs: s, chartEndDayjs: n } = tt(), o = computed(() => {
    switch (t == null ? void 0 : t.value) {
      case "hour":
        return "day";
      case "day":
        return "month";
      case "month":
        return "year";
      default:
        throw new Error(
          "Precision prop incorrect. Must be one of the following: 'hour', 'day', 'month'"
        );
    }
  }), y = {
    hour: "HH",
    date: "DD.MMM ",
    day: "DD.MMM ",
    month: "MMMM YYYY",
    year: "YYYY"
  };
  return {
    timeaxisUnits: computed(() => {
      const f = [], g = [], c = o.value === "day" ? "date" : o.value, a = t.value;
      let e = s.value.startOf(a);
      const i = n.value.diff(s.value, "minutes", true);
      let l = 0, w = e[c]();
      for (; e.isBefore(n.value) || e.isSame(n.value); ) {
        if (e[c]() !== w) {
          let m = 0;
          if (f.length === 0)
            m = e.startOf(c).diff(s.value, "minutes", true) / i * 100;
          else if (e.isSameOrAfter(n.value))
            m = n.value.diff(
              e.subtract(1, c).startOf(c),
              "minutes",
              true
            ) / i * 100;
          else {
            const B = e.startOf(c), r = e.subtract(1, c).startOf(c);
            m = B.diff(r, "minutes", true) / i * 100;
          }
          const h = e.subtract(1, c);
          f.push({
            label: h.format(y[c]),
            value: String(w),
            date: h.toDate(),
            width: String(m) + "%"
          }), l = 0, w = e[c]();
        }
        let d = 0;
        g.length === 0 ? d = e.endOf(a).diff(s.value, "minutes", true) / i * 100 : e.add(1, a).isSameOrAfter(n.value) ? d = n.value.diff(e.startOf(a), "minutes", true) / i * 100 : d = e.endOf(a).diff(e.startOf(a), "minutes", true) / i * 100, g.push({
          label: e.format(y[a]),
          value: String(e[a === "day" ? "date" : a]()),
          date: e.toDate(),
          width: String(d) + "%"
        });
        const x = e;
        e = e.add(1, a), (e.isBefore(n.value) || e.isSame(n.value)) && (l += e.diff(x, "minutes", true));
      }
      const O = n.value.isSame(n.value.startOf(c)) ? n.value[c]() - 1 : n.value[c]();
      return f.some((d) => d.value === String(O)) || (l += n.value.diff(
        e.subtract(1, a),
        "minutes",
        true
      ), f.push({
        label: n.value.format(y[c]),
        value: String(w),
        date: n.value.toDate(),
        width: `${l / i * 100}%`
      })), { upperUnits: f, lowerUnits: g };
    })
  };
}
var ce = { class: "g-timeaxis" };
var de = { class: "g-timeunits-container" };
var fe = { class: "g-timeunits-container" };
var ge = defineComponent({
  __name: "GGanttTimeaxis",
  setup(t) {
    const { precision: s, colors: n } = A(), { timeaxisUnits: o } = Ut();
    return (y, u) => (openBlock(), createElementBlock("div", ce, [
      createBaseVNode("div", de, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(o).upperUnits, ({ label: f, value: g, date: c, width: a }, e) => (openBlock(), createElementBlock("div", {
          key: f,
          class: "g-upper-timeunit",
          style: normalizeStyle({
            background: e % 2 === 0 ? unref(n).primary : unref(n).secondary,
            color: unref(n).text,
            width: a
          })
        }, [
          renderSlot(y.$slots, "upper-timeunit", {
            label: f,
            value: g,
            date: c
          }, () => [
            createTextVNode(toDisplayString(f), 1)
          ])
        ], 4))), 128))
      ]),
      createBaseVNode("div", fe, [
        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(o).lowerUnits, ({ label: f, value: g, date: c, width: a }, e) => (openBlock(), createElementBlock("div", {
          key: f,
          class: "g-timeunit",
          style: normalizeStyle({
            background: e % 2 === 0 ? unref(n).ternary : unref(n).quartenary,
            color: unref(n).text,
            flexDirection: unref(s) === "hour" ? "column" : "row",
            alignItems: unref(s) === "hour" ? "" : "center",
            width: a
          })
        }, [
          renderSlot(y.$slots, "timeunit", {
            label: f,
            value: g,
            date: c
          }, () => [
            createTextVNode(toDisplayString(f), 1)
          ]),
          unref(s) === "hour" ? (openBlock(), createElementBlock("div", {
            key: 0,
            class: "g-timeaxis-hour-pin",
            style: normalizeStyle({ background: unref(n).text })
          }, null, 4)) : createCommentVNode("", true)
        ], 4))), 128))
      ])
    ]));
  }
});
var he = { class: "g-grid-container" };
var pe = defineComponent({
  __name: "GGanttGrid",
  props: {
    highlightedUnits: {}
  },
  setup(t) {
    const { colors: s } = A(), { timeaxisUnits: n } = Ut();
    return (o, y) => (openBlock(), createElementBlock("div", he, [
      (openBlock(true), createElementBlock(Fragment, null, renderList(unref(n).lowerUnits, ({ label: u, value: f, width: g }) => {
        var c;
        return openBlock(), createElementBlock("div", {
          key: u,
          class: "g-grid-line",
          style: normalizeStyle({
            width: g,
            background: (c = o.highlightedUnits) != null && c.includes(Number(f)) ? unref(s).hoverHighlight : void 0
          })
        }, null, 4);
      }), 128))
    ]));
  }
});
var me = "cadetblue";
var ve = defineComponent({
  __name: "GGanttBarTooltip",
  props: {
    bar: {},
    modelValue: { type: Boolean }
  },
  setup(t) {
    const s = t, n = {
      hour: "HH:mm",
      day: "DD. MMM HH:mm",
      month: "DD. MMMM YYYY"
    }, { bar: o } = toRefs(s), { precision: y, font: u, barStart: f, barEnd: g, rowHeight: c } = A(), a = ref("0px"), e = ref("0px");
    watch(
      () => s.bar,
      async () => {
        var r;
        await nextTick();
        const d = ((r = o == null ? void 0 : o.value) == null ? void 0 : r.ganttBarConfig.id) || "";
        if (!d)
          return;
        const x = document.getElementById(d), { top: m, left: h } = (x == null ? void 0 : x.getBoundingClientRect()) || {
          top: 0,
          left: 0
        }, B = Math.max(h, 10);
        a.value = `${m + c.value - 10}px`, e.value = `${B}px`;
      },
      { deep: true, immediate: true }
    );
    const i = computed(() => {
      var d, x;
      return ((x = (d = o == null ? void 0 : o.value) == null ? void 0 : d.ganttBarConfig.style) == null ? void 0 : x.background) || me;
    }), { toDayjs: l } = tt(), w = computed(() => {
      var d;
      return (d = o.value) == null ? void 0 : d[f.value];
    }), O = computed(() => {
      var d;
      return (d = o.value) == null ? void 0 : d[g.value];
    }), v = computed(() => {
      if (!(o != null && o.value))
        return "";
      const d = n[y.value], x = l(w.value).format(d), m = l(O.value).format(d);
      return `${x} â€“ ${m}`;
    });
    return (d, x) => (openBlock(), createBlock(Teleport, { to: "body" }, [
      createVNode(Transition, {
        name: "g-fade",
        mode: "out-in"
      }, {
        default: withCtx(() => [
          d.modelValue ? (openBlock(), createElementBlock("div", {
            key: 0,
            class: "g-gantt-tooltip",
            style: normalizeStyle({
              top: a.value,
              left: e.value,
              fontFamily: unref(u)
            })
          }, [
            createBaseVNode("div", {
              class: "g-gantt-tooltip-color-dot",
              style: normalizeStyle({ background: i.value })
            }, null, 4),
            renderSlot(d.$slots, "default", {
              bar: unref(o),
              barStart: w.value,
              barEnd: O.value
            }, () => [
              createTextVNode(toDisplayString(v.value), 1)
            ])
          ], 4)) : createCommentVNode("", true)
        ]),
        _: 3
      })
    ]));
  }
});
var _t = {
  default: {
    primary: "#eeeeee",
    secondary: "#E0E0E0",
    ternary: "#F5F5F5",
    quartenary: "#ededed",
    hoverHighlight: "rgba(204, 216, 219, 0.5)",
    text: "#404040",
    background: "white"
  },
  creamy: {
    primary: "#ffe8d9",
    secondary: "#fcdcc5",
    ternary: "#fff6f0",
    quartenary: "#f7ece6",
    hoverHighlight: "rgba(230, 221, 202, 0.5)",
    text: "#542d05",
    background: "white"
  },
  crimson: {
    primary: "#a82039",
    secondary: "#c41238",
    ternary: "#db4f56",
    quartenary: "#ce5f64",
    hoverHighlight: "rgba(196, 141, 141, 0.5)",
    text: "white",
    background: "white"
  },
  dark: {
    primary: "#404040",
    secondary: "#303030",
    ternary: "#353535",
    quartenary: "#383838",
    hoverHighlight: "rgba(159, 160, 161, 0.5)",
    text: "white",
    background: "#525252",
    toast: "#1f1f1f"
  },
  flare: {
    primary: "#e08a38",
    secondary: "#e67912",
    ternary: "#5e5145",
    quartenary: "#665648",
    hoverHighlight: "rgba(196, 141, 141, 0.5)",
    text: "white",
    background: "white"
  },
  fuchsia: {
    primary: "#de1d5a",
    secondary: "#b50b41",
    ternary: "#ff7da6",
    quartenary: "#f2799f",
    hoverHighlight: "rgba(196, 141, 141, 0.5)",
    text: "white",
    background: "white"
  },
  grove: {
    primary: "#3d9960",
    secondary: "#288542",
    ternary: "#72b585",
    quartenary: "#65a577",
    hoverHighlight: "rgba(160, 219, 171, 0.5)",
    text: "white",
    background: "white"
  },
  "material-blue": {
    primary: "#0D47A1",
    secondary: "#1565C0",
    ternary: "#42a5f5",
    quartenary: "#409fed",
    hoverHighlight: "rgba(110, 165, 196, 0.5)",
    text: "white",
    background: "white"
  },
  sky: {
    primary: "#b5e3ff",
    secondary: "#a1d6f7",
    ternary: "#d6f7ff",
    quartenary: "#d0edf4",
    hoverHighlight: "rgba(193, 202, 214, 0.5)",
    text: "#022c47",
    background: "white"
  },
  slumber: {
    primary: "#2a2f42",
    secondary: "#2f3447",
    ternary: "#35394d",
    quartenary: "#2c3044",
    hoverHighlight: "rgba(179, 162, 127, 0.5)",
    text: "#ffe0b3",
    background: "#38383b",
    toast: "#1f1f1f"
  },
  vue: {
    primary: "#258a5d",
    secondary: "#41B883",
    ternary: "#35495E",
    quartenary: "#2a3d51",
    hoverHighlight: "rgba(160, 219, 171, 0.5)",
    text: "white",
    background: "white"
  }
};
var Et;
var et = typeof window < "u";
et && ((Et = window == null ? void 0 : window.navigator) == null ? void 0 : Et.userAgent) && /iP(ad|hone|od)/.test(window.navigator.userAgent);
function ye(t) {
  return typeof t == "function" ? t() : unref(t);
}
function be(t) {
  return t;
}
function we(t) {
  return getCurrentScope() ? (onScopeDispose(t), true) : false;
}
function Be(t, s = true) {
  getCurrentInstance() ? onMounted(t) : s ? t() : nextTick(t);
}
function jt(t) {
  var s;
  const n = ye(t);
  return (s = n == null ? void 0 : n.$el) != null ? s : n;
}
var xe = et ? window : void 0;
et && window.document;
et && window.navigator;
et && window.location;
function _e(t, s = false) {
  const n = ref(), o = () => n.value = Boolean(t());
  return o(), Be(o, s), n;
}
var yt = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {};
var bt = "__vueuse_ssr_handlers__";
yt[bt] = yt[bt] || {};
yt[bt];
var Ot = Object.getOwnPropertySymbols;
var Ee = Object.prototype.hasOwnProperty;
var Oe = Object.prototype.propertyIsEnumerable;
var Ce = (t, s) => {
  var n = {};
  for (var o in t)
    Ee.call(t, o) && s.indexOf(o) < 0 && (n[o] = t[o]);
  if (t != null && Ot)
    for (var o of Ot(t))
      s.indexOf(o) < 0 && Oe.call(t, o) && (n[o] = t[o]);
  return n;
};
function De(t, s, n = {}) {
  const o = n, { window: y = xe } = o, u = Ce(o, ["window"]);
  let f;
  const g = _e(() => y && "ResizeObserver" in y), c = () => {
    f && (f.disconnect(), f = void 0);
  }, a = watch(() => jt(t), (i) => {
    c(), g.value && y && i && (f = new ResizeObserver(s), f.observe(i, u));
  }, { immediate: true, flush: "post" }), e = () => {
    c(), a();
  };
  return we(e), {
    isSupported: g,
    stop: e
  };
}
function Se(t, s = { width: 0, height: 0 }, n = {}) {
  const o = ref(s.width), y = ref(s.height);
  return De(t, ([u]) => {
    o.value = u.contentRect.width, y.value = u.contentRect.height;
  }, n), watch(() => jt(t), (u) => {
    o.value = u ? s.width : 0, y.value = u ? s.height : 0;
  }), {
    width: o,
    height: y
  };
}
var Ct;
(function(t) {
  t.UP = "UP", t.RIGHT = "RIGHT", t.DOWN = "DOWN", t.LEFT = "LEFT", t.NONE = "NONE";
})(Ct || (Ct = {}));
var Me = Object.defineProperty;
var Dt = Object.getOwnPropertySymbols;
var ke = Object.prototype.hasOwnProperty;
var Te = Object.prototype.propertyIsEnumerable;
var St = (t, s, n) => s in t ? Me(t, s, { enumerable: true, configurable: true, writable: true, value: n }) : t[s] = n;
var Le = (t, s) => {
  for (var n in s || (s = {}))
    ke.call(s, n) && St(t, n, s[n]);
  if (Dt)
    for (var n of Dt(s))
      Te.call(s, n) && St(t, n, s[n]);
  return t;
};
var $e = {
  easeInSine: [0.12, 0, 0.39, 0],
  easeOutSine: [0.61, 1, 0.88, 1],
  easeInOutSine: [0.37, 0, 0.63, 1],
  easeInQuad: [0.11, 0, 0.5, 0],
  easeOutQuad: [0.5, 1, 0.89, 1],
  easeInOutQuad: [0.45, 0, 0.55, 1],
  easeInCubic: [0.32, 0, 0.67, 0],
  easeOutCubic: [0.33, 1, 0.68, 1],
  easeInOutCubic: [0.65, 0, 0.35, 1],
  easeInQuart: [0.5, 0, 0.75, 0],
  easeOutQuart: [0.25, 1, 0.5, 1],
  easeInOutQuart: [0.76, 0, 0.24, 1],
  easeInQuint: [0.64, 0, 0.78, 0],
  easeOutQuint: [0.22, 1, 0.36, 1],
  easeInOutQuint: [0.83, 0, 0.17, 1],
  easeInExpo: [0.7, 0, 0.84, 0],
  easeOutExpo: [0.16, 1, 0.3, 1],
  easeInOutExpo: [0.87, 0, 0.13, 1],
  easeInCirc: [0.55, 0, 1, 0.45],
  easeOutCirc: [0, 0.55, 0.45, 1],
  easeInOutCirc: [0.85, 0, 0.15, 1],
  easeInBack: [0.36, 0, 0.66, -0.56],
  easeOutBack: [0.34, 1.56, 0.64, 1],
  easeInOutBack: [0.68, -0.6, 0.32, 1.6]
};
Le({
  linear: be
}, $e);
var Ge = { class: "g-gantt-rows-container" };
var Ie = defineComponent({
  __name: "GGanttChart",
  props: {
    chartStart: {},
    chartEnd: {},
    precision: { default: "day" },
    barStart: {},
    barEnd: {},
    dateFormat: { type: [String, Boolean], default: Pt },
    width: { default: "100%" },
    hideTimeaxis: { type: Boolean, default: false },
    colorScheme: { default: "default" },
    grid: { type: Boolean, default: false },
    pushOnOverlap: { type: Boolean, default: false },
    noOverlap: { type: Boolean, default: false },
    rowHeight: { default: 40 },
    highlightedUnits: { default: () => [] },
    font: { default: "inherit" }
  },
  emits: ["click-bar", "mousedown-bar", "mouseup-bar", "dblclick-bar", "mouseenter-bar", "mouseleave-bar", "dragstart-bar", "drag-bar", "dragend-bar", "contextmenu-bar"],
  setup(t, { emit: s }) {
    const n = t, { width: o, font: y, colorScheme: u } = toRefs(n), f = useSlots(), g = computed(
      () => typeof u.value != "string" ? u.value : _t[u.value] || _t.default
    ), c = () => {
      var B;
      const m = (B = f.default) == null ? void 0 : B.call(f), h = [];
      return m && m.forEach((r) => {
        var b;
        if ((b = r.props) != null && b.bars) {
          const p = r.props.bars;
          h.push(p);
        } else
          Array.isArray(r.children) && r.children.forEach((p) => {
            var E;
            const _ = p;
            if ((E = _ == null ? void 0 : _.props) != null && E.bars) {
              const D = _.props.bars;
              h.push(D);
            }
          });
      }), h;
    }, a = ref(false), e = ref(false), i = ref(void 0);
    let l;
    const w = (m) => {
      l && clearTimeout(l), l = setTimeout(() => {
        a.value = true;
      }, 800), i.value = m;
    }, O = () => {
      clearTimeout(l), a.value = false;
    }, v = (m, h, B, r) => {
      switch (m.type) {
        case "click":
          s("click-bar", { bar: h, e: m, datetime: B });
          break;
        case "mousedown":
          s("mousedown-bar", { bar: h, e: m, datetime: B });
          break;
        case "mouseup":
          s("mouseup-bar", { bar: h, e: m, datetime: B });
          break;
        case "dblclick":
          s("dblclick-bar", { bar: h, e: m, datetime: B });
          break;
        case "mouseenter":
          w(h), s("mouseenter-bar", { bar: h, e: m });
          break;
        case "mouseleave":
          O(), s("mouseleave-bar", { bar: h, e: m });
          break;
        case "dragstart":
          e.value = true, s("dragstart-bar", { bar: h, e: m });
          break;
        case "drag":
          s("drag-bar", { bar: h, e: m });
          break;
        case "dragend":
          e.value = false, s("dragend-bar", { bar: h, e: m, movedBars: r });
          break;
        case "contextmenu":
          s("contextmenu-bar", { bar: h, e: m, datetime: B });
          break;
      }
    }, d = ref(null), x = Se(d);
    return provide(Rt, c), provide(Yt, {
      ...toRefs(n),
      colors: g,
      chartSize: x
    }), provide(At, v), (m, h) => (openBlock(), createElementBlock("div", {
      ref_key: "ganttChart",
      ref: d,
      class: "g-gantt-chart",
      style: normalizeStyle({ width: unref(o), background: g.value.background, fontFamily: unref(y) })
    }, [
      m.hideTimeaxis ? createCommentVNode("", true) : (openBlock(), createBlock(ge, { key: 0 }, {
        "upper-timeunit": withCtx(({ label: B, value: r, date: b }) => [
          renderSlot(m.$slots, "upper-timeunit", {
            label: B,
            value: r,
            date: b
          })
        ]),
        timeunit: withCtx(({ label: B, value: r, date: b }) => [
          renderSlot(m.$slots, "timeunit", {
            label: B,
            value: r,
            date: b
          })
        ]),
        _: 3
      })),
      m.grid ? (openBlock(), createBlock(pe, {
        key: 1,
        "highlighted-units": m.highlightedUnits
      }, null, 8, ["highlighted-units"])) : createCommentVNode("", true),
      createBaseVNode("div", Ge, [
        renderSlot(m.$slots, "default")
      ]),
      createVNode(ve, {
        "model-value": a.value || e.value,
        bar: i.value
      }, {
        default: withCtx(() => [
          renderSlot(m.$slots, "bar-tooltip", { bar: i.value })
        ]),
        _: 3
      }, 8, ["model-value", "bar"])
    ], 4));
  }
});
function Bt(t = A()) {
  const { dateFormat: s, chartSize: n } = t, { chartStartDayjs: o, chartEndDayjs: y, toDayjs: u, format: f } = tt(t), g = computed(() => y.value.diff(o.value, "minutes"));
  return {
    mapTimeToPosition: (e) => {
      const i = n.width.value || 0, l = u(e).diff(o.value, "minutes", true);
      return Math.ceil(l / g.value * i);
    },
    mapPositionToTime: (e) => {
      const i = n.width.value || 0, l = e / i * g.value;
      return f(o.value.add(l, "minutes"), s.value);
    }
  };
}
function Mt(t, s = () => null, n = () => null, o = A()) {
  const { barStart: y, barEnd: u, pushOnOverlap: f } = o, g = ref(false);
  let c = 0, a;
  const { mapPositionToTime: e } = Bt(o), { toDayjs: i } = tt(o), l = (h) => {
    const B = document.getElementById(t.ganttBarConfig.id);
    if (!B)
      return;
    switch (c = h.clientX - (B.getBoundingClientRect().left || 0), h.target.className) {
      case "g-gantt-bar-handle-left":
        document.body.style.cursor = "ew-resize", a = v;
        break;
      case "g-gantt-bar-handle-right":
        document.body.style.cursor = "ew-resize", a = d;
        break;
      default:
        a = O;
    }
    g.value = true, window.addEventListener("mousemove", a), window.addEventListener("mouseup", m);
  }, w = () => {
    var r;
    const h = document.getElementById(t.ganttBarConfig.id), B = (r = h == null ? void 0 : h.closest(".g-gantt-row-bars-container")) == null ? void 0 : r.getBoundingClientRect();
    return { barElement: h, barContainer: B };
  }, O = (h) => {
    const { barElement: B, barContainer: r } = w();
    if (!B || !r)
      return;
    const b = B.getBoundingClientRect().width, p = h.clientX - r.left - c, _ = p + b;
    x(p, _) || (t[y.value] = e(p), t[u.value] = e(_), s(h, t));
  }, v = (h) => {
    const { barElement: B, barContainer: r } = w();
    if (!B || !r)
      return;
    const b = h.clientX - r.left, p = e(b);
    i(p).isSameOrAfter(i(t, "end")) || (t[y.value] = p, s(h, t));
  }, d = (h) => {
    const { barElement: B, barContainer: r } = w();
    if (!B || !r)
      return;
    const b = h.clientX - r.left, p = e(b);
    i(p).isSameOrBefore(i(t, "start")) || (t[u.value] = p, s(h, t));
  }, x = (h, B) => {
    if (!f.value)
      return false;
    const r = t.ganttBarConfig.dragLimitLeft, b = t.ganttBarConfig.dragLimitRight;
    return h && r != null && h < r || B && b != null && B > b;
  }, m = (h) => {
    g.value = false, document.body.style.cursor = "", window.removeEventListener("mousemove", a), window.removeEventListener("mouseup", m), n(h, t);
  };
  return {
    isDragging: g,
    initDrag: l
  };
}
function Ft() {
  const t = inject(Rt);
  if (!t)
    throw Error("Failed to inject getChartRows!");
  return t;
}
function Nt() {
  const t = inject(At);
  if (!t)
    throw Error("Failed to inject emitBarEvent!");
  return t;
}
function Re() {
  const t = A(), s = Ft(), n = Nt(), { pushOnOverlap: o, barStart: y, barEnd: u, noOverlap: f, dateFormat: g } = t, c = /* @__PURE__ */ new Map(), { toDayjs: a, format: e } = tt(), i = (r, b) => {
    const { initDrag: p } = Mt(r, w, m, t);
    n({ ...b, type: "dragstart" }, r), p(b), h(r);
  }, l = (r, b) => {
    const p = r.ganttBarConfig.bundle;
    p != null && (s().forEach((_) => {
      _.forEach((E) => {
        if (E.ganttBarConfig.bundle === p) {
          const D = E === r ? m : () => null, { initDrag: S } = Mt(E, w, D, t);
          S(b), h(E);
        }
      });
    }), n({ ...b, type: "dragstart" }, r));
  }, w = (r, b) => {
    n({ ...r, type: "drag" }, b), O(b);
  }, O = (r) => {
    if (!(o != null && o.value))
      return;
    let b = r, { overlapBar: p, overlapType: _ } = v(b);
    for (; p; ) {
      h(p);
      const E = a(b[y.value]), D = a(b[u.value]), S = a(p[y.value]), k = a(p[u.value]);
      let T;
      switch (_) {
        case "left":
          T = k.diff(E, "minutes", true), p[u.value] = e(b[y.value], g.value), p[y.value] = e(
            S.subtract(T, "minutes"),
            g.value
          );
          break;
        case "right":
          T = D.diff(S, "minutes", true), p[y.value] = e(D, g.value), p[u.value] = e(
            k.add(T, "minutes"),
            g.value
          );
          break;
        default:
          console.warn(
            "Vue-Ganttastic: One bar is inside of the other one! This should never occur while push-on-overlap is active!"
          );
          return;
      }
      p && (_ === "left" || _ === "right") && d(p, T, _), b = p, { overlapBar: p, overlapType: _ } = v(p);
    }
  }, v = (r) => {
    let b, p, _;
    const E = s().find((G) => G.includes(r)) || [], D = a(r[y.value]), S = a(r[u.value]);
    return { overlapBar: E.find((G) => {
      if (G === r)
        return false;
      const R = a(G[y.value]), j = a(G[u.value]);
      return b = D.isBetween(R, j), p = S.isBetween(R, j), _ = R.isBetween(D, S) || j.isBetween(D, S), b || p || _;
    }), overlapType: b ? "left" : p ? "right" : _ ? "between" : null };
  }, d = (r, b, p) => {
    h(r), r.ganttBarConfig.bundle && s().forEach((_) => {
      _.forEach((E) => {
        E.ganttBarConfig.bundle === r.ganttBarConfig.bundle && E !== r && (h(E), x(E, b, p));
      });
    });
  }, x = (r, b, p) => {
    switch (p) {
      case "left":
        r[y.value] = e(
          a(r, "start").subtract(b, "minutes"),
          g.value
        ), r[u.value] = e(
          a(r, "end").subtract(b, "minutes"),
          g.value
        );
        break;
      case "right":
        r[y.value] = e(
          a(r, "start").add(b, "minutes"),
          g.value
        ), r[u.value] = e(a(r, "end").add(b, "minutes"), g.value);
    }
    O(r);
  }, m = (r, b) => {
    B();
    const p = {
      ...r,
      type: "dragend"
    };
    n(p, b, void 0, new Map(c)), c.clear();
  }, h = (r) => {
    if (!c.has(r)) {
      const b = r[y.value], p = r[u.value];
      c.set(r, { oldStart: b, oldEnd: p });
    }
  }, B = () => {
    if (o.value || !f.value)
      return;
    let r = false;
    c.forEach((b, p) => {
      const { overlapBar: _ } = v(p);
      _ != null && (r = true);
    }), r && c.forEach(({ oldStart: b, oldEnd: p }, _) => {
      _[y.value] = b, _[u.value] = p;
    });
  };
  return {
    initDragOfBar: i,
    initDragOfBundle: l
  };
}
function Ye() {
  const { pushOnOverlap: t } = A(), s = Ft(), n = (f) => {
    const g = [];
    return f != null && s().forEach((c) => {
      c.forEach((a) => {
        a.ganttBarConfig.bundle === f && g.push(a);
      });
    }), g;
  }, o = (f) => {
    if (!t.value || f.ganttBarConfig.pushOnOverlap === false)
      return;
    for (const c of ["left", "right"]) {
      const a = c, { gapDistanceSoFar: e, bundleBarsAndGapDist: i } = y(
        f,
        0,
        a
      );
      let l = e;
      const w = i;
      if (!w)
        continue;
      for (let v = 0; v < w.length; v++) {
        const d = w[v].bar, x = w[v].gapDistance;
        n(d.ganttBarConfig.bundle).filter(
          (h) => h !== d
        ).forEach((h) => {
          const B = y(h, x, a), r = B.gapDistanceSoFar, b = B.bundleBarsAndGapDist;
          r != null && (!l || r < l) && (l = r), b.forEach((p) => {
            w.find((_) => _.bar === p.bar) || w.push(p);
          });
        });
      }
      const O = document.getElementById(f.ganttBarConfig.id);
      l != null && a === "left" ? f.ganttBarConfig.dragLimitLeft = O.offsetLeft - l : l != null && a === "right" && (f.ganttBarConfig.dragLimitRight = O.offsetLeft + O.offsetWidth + l);
    }
    n(f.ganttBarConfig.bundle).forEach((c) => {
      c.ganttBarConfig.dragLimitLeft = f.ganttBarConfig.dragLimitLeft, c.ganttBarConfig.dragLimitRight = f.ganttBarConfig.dragLimitRight;
    });
  }, y = (f, g = 0, c) => {
    const a = f.ganttBarConfig.bundle ? [{ bar: f, gapDistance: g }] : [];
    let e = f, i = u(e, c);
    if (c === "left")
      for (; i; ) {
        const l = document.getElementById(e.ganttBarConfig.id), w = document.getElementById(i.ganttBarConfig.id), O = w.offsetLeft + w.offsetWidth;
        if (g += l.offsetLeft - O, i.ganttBarConfig.immobile)
          return { gapDistanceSoFar: g, bundleBarsAndGapDist: a };
        i.ganttBarConfig.bundle && a.push({
          bar: i,
          gapDistance: g
        }), e = i, i = u(i, "left");
      }
    if (c === "right")
      for (; i; ) {
        const l = document.getElementById(e.ganttBarConfig.id), w = document.getElementById(i.ganttBarConfig.id), O = l.offsetLeft + l.offsetWidth;
        if (g += w.offsetLeft - O, i.ganttBarConfig.immobile)
          return { gapDistanceSoFar: g, bundleBarsAndGapDist: a };
        i.ganttBarConfig.bundle && a.push({
          bar: i,
          gapDistance: g
        }), e = i, i = u(i, "right");
      }
    return { gapDistanceSoFar: null, bundleBarsAndGapDist: a };
  }, u = (f, g) => {
    const c = document.getElementById(f.ganttBarConfig.id), a = s().find((i) => i.includes(f)) || [];
    let e = [];
    return g === "left" ? e = a.filter((i) => {
      const l = document.getElementById(i.ganttBarConfig.id);
      return l && l.offsetLeft < c.offsetLeft && i.ganttBarConfig.pushOnOverlap !== false;
    }) : e = a.filter((i) => {
      const l = document.getElementById(i.ganttBarConfig.id);
      return l && l.offsetLeft > c.offsetLeft && i.ganttBarConfig.pushOnOverlap !== false;
    }), e.length > 0 ? e.reduce((i, l) => {
      const w = document.getElementById(i.ganttBarConfig.id), O = document.getElementById(l.ganttBarConfig.id), v = Math.abs(w.offsetLeft - c.offsetLeft), d = Math.abs(O.offsetLeft - c.offsetLeft);
      return v < d ? i : l;
    }, e[0]) : null;
  };
  return {
    setDragLimitsOfGanttBar: o
  };
}
var Ae = ["id"];
var He = { class: "g-gantt-bar-label" };
var Pe = createBaseVNode("div", { class: "g-gantt-bar-handle-left" }, null, -1);
var Ue = createBaseVNode("div", { class: "g-gantt-bar-handle-right" }, null, -1);
var je = defineComponent({
  __name: "GGanttBar",
  props: {
    bar: {}
  },
  setup(t) {
    const s = t, n = Nt(), o = A(), { rowHeight: y } = o, { bar: u } = toRefs(s), { mapTimeToPosition: f, mapPositionToTime: g } = Bt(), { initDragOfBar: c, initDragOfBundle: a } = Re(), { setDragLimitsOfGanttBar: e } = Ye(), i = ref(false), l = computed(() => u.value.ganttBarConfig);
    function w(E) {
      l.value.bundle != null ? a(u.value, E) : c(u.value, E), i.value = true;
    }
    const O = () => {
      e(u.value), !l.value.immobile && (window.addEventListener("mousemove", w, {
        once: true
      }), window.addEventListener(
        "mouseup",
        () => {
          window.removeEventListener("mousemove", w), i.value = false;
        },
        { once: true }
      ));
    }, v = inject(Ht), d = (E) => {
      var k;
      E.preventDefault(), E.type === "mousedown" && O();
      const D = (k = v == null ? void 0 : v.value) == null ? void 0 : k.getBoundingClientRect();
      if (!D)
        return;
      const S = g(E.clientX - D.left);
      n(E, u.value, S);
    }, { barStart: x, barEnd: m, width: h, chartStart: B, chartEnd: r, chartSize: b } = o, p = ref(0), _ = ref(0);
    return onMounted(() => {
      watch(
        [u, h, B, r, b.width],
        () => {
          p.value = f(u.value[x.value]), _.value = f(u.value[m.value]);
        },
        { deep: true, immediate: true }
      );
    }), (E, D) => (openBlock(), createElementBlock("div", {
      id: l.value.id,
      class: normalizeClass(["g-gantt-bar", l.value.class || ""]),
      style: normalizeStyle({
        ...l.value.style,
        position: "absolute",
        top: `${unref(y) * 0.1}px`,
        left: `${p.value}px`,
        width: `${_.value - p.value}px`,
        height: `${unref(y) * 0.8}px`,
        zIndex: i.value ? 3 : 2
      }),
      onMousedown: d,
      onClick: d,
      onDblclick: d,
      onMouseenter: d,
      onMouseleave: d,
      onContextmenu: d
    }, [
      createBaseVNode("div", He, [
        renderSlot(E.$slots, "default", { bar: unref(u) }, () => [
          createBaseVNode("div", null, toDisplayString(l.value.label || ""), 1)
        ])
      ]),
      l.value.hasHandles ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [
        Pe,
        Ue
      ], 64)) : createCommentVNode("", true)
    ], 46, Ae));
  }
});
var Fe = defineComponent({
  __name: "GGanttRow",
  props: {
    label: {},
    bars: {},
    highlightOnHover: { type: Boolean }
  },
  emits: ["drop"],
  setup(t, { emit: s }) {
    const n = t, { rowHeight: o, colors: y } = A(), { highlightOnHover: u } = toRefs(n), f = ref(false), g = computed(() => ({
      height: `${o.value}px`,
      background: (u == null ? void 0 : u.value) && f.value ? y.value.hoverHighlight : null
    })), { mapPositionToTime: c } = Bt(), a = ref(null);
    provide(Ht, a);
    const e = (i) => {
      var v;
      const l = (v = a.value) == null ? void 0 : v.getBoundingClientRect();
      if (!l) {
        console.error("Vue-Ganttastic: failed to find bar container element for row.");
        return;
      }
      const w = i.clientX - l.left, O = c(w);
      s("drop", { e: i, datetime: O });
    };
    return (i, l) => (openBlock(), createElementBlock("div", {
      class: "g-gantt-row",
      style: normalizeStyle(g.value),
      onDragover: l[0] || (l[0] = withModifiers((w) => f.value = true, ["prevent"])),
      onDragleave: l[1] || (l[1] = (w) => f.value = false),
      onDrop: l[2] || (l[2] = (w) => e(w)),
      onMouseover: l[3] || (l[3] = (w) => f.value = true),
      onMouseleave: l[4] || (l[4] = (w) => f.value = false)
    }, [
      createBaseVNode("div", {
        class: "g-gantt-row-label",
        style: normalizeStyle({ background: unref(y).primary, color: unref(y).text })
      }, [
        renderSlot(i.$slots, "label", {}, () => [
          createTextVNode(toDisplayString(i.label), 1)
        ])
      ], 4),
      createBaseVNode("div", mergeProps({
        ref_key: "barContainer",
        ref: a,
        class: "g-gantt-row-bars-container"
      }, i.$attrs), [
        createVNode(TransitionGroup, {
          name: "bar-transition",
          tag: "div"
        }, {
          default: withCtx(() => [
            (openBlock(true), createElementBlock(Fragment, null, renderList(i.bars, (w) => (openBlock(), createBlock(je, {
              key: w.ganttBarConfig.id,
              bar: w
            }, {
              default: withCtx(() => [
                renderSlot(i.$slots, "bar-label", { bar: w })
              ]),
              _: 2
            }, 1032, ["bar"]))), 128))
          ]),
          _: 3
        })
      ], 16)
    ], 36));
  }
});
function Ne() {
  import_dayjs.default.extend(ie), import_dayjs.default.extend(se), import_dayjs.default.extend(le), import_dayjs.default.extend(ue);
}
var We = {
  install(t, s) {
    Ne(), t.component("GGanttChart", Ie), t.component("GGanttRow", Fe);
  }
};
function K(t, s = "top") {
  if (!t || typeof document > "u")
    return;
  const n = document.head, o = document.createElement("style");
  s === "top" && n.firstChild ? n.insertBefore(o, n.firstChild) : n.appendChild(o), o.appendChild(document.createTextNode(t));
}
K(`
.g-gantt-chart {
  position: relative;
  display: flex;
  flex-direction: column;
  overflow-x: hidden;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
     -moz-user-select: none;
          user-select: none;
  border-radius: 5px;
  font-feature-settings: "tnum";
  font-variant-numeric: tabular-nums;
}
.g-gantt-rows-container {
  position: relative;
}
`, "top");
K(`
.g-gantt-row {
  width: 100%;
  transition: background 0.4s;
  position: relative;
}
.g-gantt-row > .g-gantt-row-bars-container {
  position: relative;
  border-top: 1px solid #eaeaea;
  width: 100%;
  border-bottom: 1px solid #eaeaea;
}
.g-gantt-row-label {
  position: absolute;
  top: 0;
  left: 0px;
  padding: 0px 8px;
  display: flex;
  align-items: center;
  height: 60%;
  min-height: 20px;
  font-size: 0.8em;
  font-weight: bold;
  border-bottom-right-radius: 6px;
  background: #f2f2f2;
  z-index: 3;
  box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.6);
}
.bar-transition-leave-active,
.bar-transition-enter-active {
  transition: all 0.2s;
}
.bar-transition-enter-from,
.bar-transition-leave-to {
  transform: scale(0.8);
  opacity: 0;
}
`, "top");
K(`
.g-timeaxis {
  position: sticky;
  top: 0;
  width: 100%;
  height: 8vh;
  min-height: 75px;
  background: white;
  z-index: 4;
  box-shadow: 0px 1px 3px 2px rgba(50, 50, 50, 0.5);
  display: flex;
  flex-direction: column;
}
.g-timeunits-container {
  display: flex;
  width: 100%;
  height: 50%;
}
.g-timeunit {
  height: 100%;
  font-size: 65%;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.g-upper-timeunit {
  display: flex;
  height: 100%;
  justify-content: center;
  align-items: center;
}
.g-timeaxis-hour-pin {
  width: 1px;
  height: 10px;
}
`, "top");
K(`
.g-gantt-tooltip {
  position: fixed;
  background: black;
  color: white;
  z-index: 4;
  font-size: 0.85em;
  padding: 5px;
  border-radius: 3px;
  transition: opacity 0.2s;
  display: flex;
  align-items: center;
  font-feature-settings: "tnum";
  font-variant-numeric: tabular-nums;
}
.g-gantt-tooltip:before {
  content: "";
  position: absolute;
  top: 0;
  left: 10%;
  width: 0;
  height: 0;
  border: 10px solid transparent;
  border-bottom-color: black;
  border-top: 0;
  margin-left: -5px;
  margin-top: -5px;
}
.g-gantt-tooltip-color-dot {
  width: 8px;
  height: 8px;
  border-radius: 100%;
  margin-right: 4px;
}
.g-fade-enter-active,
.g-fade-leave-active {
  transition: opacity 0.3s ease;
}
.g-fade-enter-from,
.g-fade-leave-to {
  opacity: 0;
}
`, "top");
K(`
.g-grid-container {
  position: absolute;
  top: 0;
  left: 0%;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: space-between;
}
.g-grid-line {
  width: 1px;
  height: 100%;
  border-left: 1px solid #eaeaea;
}
`, "top");
K(`
.g-gantt-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  background: cadetblue;
  overflow: hidden;
}
.g-gantt-bar-label {
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  padding: 0 14px 0 14px; /* 14px is the width of the handle */
  display: flex;
  justify-content: center;
  align-items: center;
}
.g-gantt-bar-label > * {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.g-gantt-bar-handle-left,
.g-gantt-bar-handle-right {
  position: absolute;
  width: 10px;
  height: 100%;
  background: white;
  opacity: 0.7;
  border-radius: 0px;
  cursor: ew-resize;
  top: 0;
}
.g-gantt-bar-handle-left {
  left: 0;
}
.g-gantt-bar-handle-right {
  right: 0;
}
.g-gantt-bar-label img {
  pointer-events: none;
}
`, "top");
export {
  Ie as GGanttChart,
  Fe as GGanttRow,
  We as default,
  Ne as extendDayjs,
  We as ganttastic
};
//# sourceMappingURL=@infectoone_vue-ganttastic.js.map
